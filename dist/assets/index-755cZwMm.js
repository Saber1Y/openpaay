const k=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,U=globalThis,It="9.47.1";function yt(){return rr(U),U}function rr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||It,t[It]=t[It]||{}}function sr(e,t,n=U){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[It]=r[It]||{};return s[e]||(s[e]=t())}const ui=["debug","info","warn","error","log","assert","trace"],Nf="Sentry Logger ",rs={};function At(e){if(!("console"in U))return e();const t=U.console,n={},r=Object.keys(rs);r.forEach(s=>{const o=rs[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Lf(){di().enabled=!0}function Of(){di().enabled=!1}function wu(){return di().enabled}function Df(...e){li("log",...e)}function Pf(...e){li("warn",...e)}function Ff(...e){li("error",...e)}function li(e,...t){k&&wu()&&At(()=>{U.console[e](`${Nf}[${e}]:`,...t)})}function di(){return k?sr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const g={enable:Lf,disable:Of,isEnabled:wu,log:Df,warn:Pf,error:Ff},Tu=50,tt="?",da=/\(error: (.*)\)/,fa=/captureMessage|captureException/;function Iu(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){const c=i[a];if(c.length>1024)continue;const u=da.test(c)?c.replace(da,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=Tu+s)break}}return Bf(o.slice(s))}}function $f(e){return Array.isArray(e)?Iu(...e):e}function Bf(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(br(t).function||"")&&t.pop(),t.reverse(),fa.test(br(t).function||"")&&(t.pop(),fa.test(br(t).function||"")&&t.pop()),t.slice(0,Tu).map(n=>({...n,filename:n.filename||br(t).filename,function:n.function||tt}))}function br(e){return e[e.length-1]||{}}const Js="<anonymous>";function ut(e){try{return!e||typeof e!="function"?Js:e.name||Js}catch{return Js}}function ko(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const Hr={},pa={};function Nt(e,t){Hr[e]=Hr[e]||[],Hr[e].push(t)}function Lt(e,t){if(!pa[e]){pa[e]=!0;try{t()}catch(n){k&&g.error(`Error while instrumenting ${e}`,n)}}}function ze(e,t){const n=e&&Hr[e];if(n)for(const r of n)try{r(t)}catch(s){k&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ut(r)}
Error:`,s)}}let Zs=null;function ku(e){const t="error";Nt(t,e),Lt(t,Hf)}function Hf(){Zs=U.onerror,U.onerror=function(e,t,n,r,s){return ze("error",{column:r,error:s,line:n,msg:e,url:t}),Zs?Zs.apply(this,arguments):!1},U.onerror.__SENTRY_INSTRUMENTED__=!0}let Qs=null;function Cu(e){const t="unhandledrejection";Nt(t,e),Lt(t,Uf)}function Uf(){Qs=U.onunhandledrejection,U.onunhandledrejection=function(e){return ze("unhandledrejection",e),Qs?Qs.apply(this,arguments):!0},U.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ru=Object.prototype.toString;function kt(e){switch(Ru.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return dt(e,Error)}}function On(e,t){return Ru.call(e)===`[object ${t}]`}function xu(e){return On(e,"ErrorEvent")}function ha(e){return On(e,"DOMError")}function Wf(e){return On(e,"DOMException")}function Xe(e){return On(e,"String")}function Rs(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function gn(e){return e===null||Rs(e)||typeof e!="object"&&typeof e!="function"}function lt(e){return On(e,"Object")}function xs(e){return typeof Event<"u"&&dt(e,Event)}function zf(e){return typeof Element<"u"&&dt(e,Element)}function jf(e){return On(e,"RegExp")}function or(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function qf(e){return lt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function dt(e,t){try{return e instanceof t}catch{return!1}}function Mu(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Au(e){return typeof Request<"u"&&dt(e,Request)}const fi=U,Gf=80;function je(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Gf;for(;n&&o++<r&&(u=Vf(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function Vf(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(fi.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s!=null&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&Xe(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function Xt(){try{return fi.document.location.href}catch{return""}}function Nu(e){if(!fi.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function _n(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function eo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function ss(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Mu(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Yf(e,t,n=!1){return Xe(e)?jf(t)?t.test(e):Xe(t)?n?e===t:e.includes(t):!1:!1}function Ke(e,t=[],n=!1){return t.some(r=>Yf(e,r,n))}function xe(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Lu(s,r);try{e[t]=s}catch{k&&g.log(`Failed to replace method "${t}" in object`,e)}}function Le(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{k&&g.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Lu(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Le(e,"__sentry_original__",t)}catch{}}function pi(e){return e.__sentry_original__}function Ou(e){if(kt(e))return{message:e.message,name:e.name,stack:e.stack,...ga(e)};if(xs(e)){const t={type:e.type,target:ma(e.target),currentTarget:ma(e.currentTarget),...ga(e)};return typeof CustomEvent<"u"&&dt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function ma(e){try{return zf(e)?je(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function ga(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Xf(e,t=40){const n=Object.keys(Ou(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return _n(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:_n(o,t)}return""}function Kf(){const e=U;return e.crypto||e.msCrypto}function Me(e=Kf()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Du(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Ft(e){const{message:t,event_id:n}=e;if(t)return t;const r=Du(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Co(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function Rt(e,t){const n=Du(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s==null?void 0:s.data,...t.data};n.mechanism.data=o}}function Jf(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>eo(i,0));const o=Math.min(r-1,s);t.context_line=eo(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>eo(i,0))}function _a(e){if(Zf(e))return!0;try{Le(e,"__sentry_captured__",!0)}catch{}return!1}function Zf(e){try{return e.__sentry_captured__}catch{}}const Pu=1e3;function Kt(){return Date.now()/Pu}function Qf(){const{performance:e}=U;if(!(e!=null&&e.now)||!e.timeOrigin)return Kt;const t=e.timeOrigin;return()=>(t+e.now())/Pu}let ya;function me(){return(ya??(ya=Qf()))()}let to;function ep(){var d;const{performance:e}=U;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=(d=e.timing)==null?void 0:d.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function ke(){return to||(to=ep()),to[0]}function tp(e){const t=me(),n={sid:Me(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>rp(n)};return e&&yn(n,e),n}function yn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||me(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Me()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function np(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),yn(e,n)}function rp(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function ir(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=ir(r[s],t[s],n-1));return r}function ft(){return Me()}function ar(){return Me().substring(16)}const Ro="_sentrySpan";function qt(e,t){t?Le(e,Ro,t):delete e[Ro]}function Kn(e){return e[Ro]}const sp=100;class nt{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ft(),sampleRand:Math.random()}}clone(){const t=new nt;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,qt(t,Kn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&yn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof nt?n.getScopeData():lt(n)?t:void 0,{tags:s,extra:o,user:i,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,qt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:sp;if(r<=0)return this;const s={timestamp:Kt(),...t,message:t.message?_n(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Kn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=ir(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Me();if(!this._client)return k&&g.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||Me();if(!this._client)return k&&g.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||Me();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(k&&g.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function op(){return sr("defaultCurrentScope",()=>new nt)}function ip(){return sr("defaultIsolationScope",()=>new nt)}class ap{constructor(t,n){let r;t?r=t:r=new nt;let s;n?s=n:s=new nt,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return or(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Sn(){const e=yt(),t=rr(e);return t.stack=t.stack||new ap(op(),ip())}function cp(e){return Sn().withScope(e)}function up(e,t){const n=Sn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Sa(e){return Sn().withScope(()=>e(Sn().getIsolationScope()))}function lp(){return{withIsolationScope:Sa,withScope:cp,withSetScope:up,withSetIsolationScope:(e,t)=>Sa(t),getCurrentScope:()=>Sn().getScope(),getIsolationScope:()=>Sn().getIsolationScope()}}function Ot(e){const t=rr(e);return t.acs?t.acs:lp()}function X(){const e=yt();return Ot(e).getCurrentScope()}function ve(){const e=yt();return Ot(e).getIsolationScope()}function hi(){return sr("globalScope",()=>new nt)}function Ze(...e){const t=yt(),n=Ot(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function vI(...e){const t=yt(),n=Ot(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function L(){return X().getClient()}function Fu(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||ar()};return r&&(o.parent_span_id=r),o}const We="sentry.source",mi="sentry.sample_rate",$u="sentry.previous_trace_sample_rate",qe="sentry.op",de="sentry.origin",os="sentry.idle_span_finish_reason",cr="sentry.measurement_unit",ur="sentry.measurement_value",xo="sentry.custom_span_name",gi="sentry.profile_id",Dn="sentry.exclusive_time",dp="http.request.method",fp="url.full",pp="sentry.link.type",hp=0,_i=1,pe=2;function mp(e){if(e<400&&e>=100)return{code:_i};if(e>=400&&e<500)switch(e){case 401:return{code:pe,message:"unauthenticated"};case 403:return{code:pe,message:"permission_denied"};case 404:return{code:pe,message:"not_found"};case 409:return{code:pe,message:"already_exists"};case 413:return{code:pe,message:"failed_precondition"};case 429:return{code:pe,message:"resource_exhausted"};case 499:return{code:pe,message:"cancelled"};default:return{code:pe,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:pe,message:"unimplemented"};case 503:return{code:pe,message:"unavailable"};case 504:return{code:pe,message:"deadline_exceeded"};default:return{code:pe,message:"internal_error"}}return{code:pe,message:"unknown_error"}}function is(e,t){e.setAttribute("http.response.status_code",t);const n=mp(t);n.message!=="unknown_error"&&e.setStatus(n)}const Bu="_sentryScope",Hu="_sentryIsolationScope";function gp(e,t,n){e&&(Le(e,Hu,n),Le(e,Bu,t))}function as(e){return{scope:e[Bu],isolationScope:e[Hu]}}const yi="sentry-",_p=/^sentry-/,yp=8192;function Uu(e){const t=Sp(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(_p)){const i=s.slice(yi.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Wu(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${yi}${r}`]=s),n),{});return bp(t)}function Sp(e){if(!(!e||!Xe(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ba(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):ba(e)}function ba(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function bp(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>yp?(k&&g.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}function Gt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const zu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ep(e){if(!e)return;const t=e.match(zu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function ju(e,t){const n=Ep(e),r=Uu(t);if(!(n!=null&&n.traceId))return{traceId:ft(),sampleRand:Math.random()};const s=vp(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:i,parentSampled:a}=n;return{traceId:o,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:s}}function qu(e=ft(),t=ar(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function vp(e,t){const n=Gt(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=Gt(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Gu=0,Si=1;let Ea=!1;function wp(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a,links:c}=q(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a,links:c}}function Vu(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:q(e).parent_span_id,o=as(e).scope,i=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||ar():t;return{parent_span_id:s,span_id:i,trace_id:n}}function Tp(e){const{traceId:t,spanId:n}=e.spanContext(),r=Jt(e);return qu(t,n,r)}function Yu(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===Si,attributes:o,...s}))}function Wt(e){return typeof e=="number"?va(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?va(e.getTime()):me()}function va(e){return e>9999999999?e/1e3:e}function q(e){var r;if(kp(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Ip(e)){const{attributes:s,startTime:o,name:i,endTime:a,status:c,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:i,parent_span_id:d,start_timestamp:Wt(o),timestamp:Wt(a)||void 0,status:Xu(c),op:s[qe],origin:s[de],links:Yu(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Ip(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function kp(e){return typeof e.getSpanJSON=="function"}function Jt(e){const{traceFlags:t}=e.spanContext();return t===Si}function Xu(e){if(!(!e||e.code===hp))return e.code===_i?"ok":e.message||"unknown_error"}const zt="_sentryChildSpans",Mo="_sentryRootSpan";function Ku(e,t){const n=e[Mo]||e;Le(t,Mo,n),e[zt]?e[zt].add(t):Le(e,zt,new Set([t]))}function Cp(e,t){e[zt]&&e[zt].delete(t)}function Ur(e){const t=new Set;function n(r){if(!t.has(r)&&Jt(r)){t.add(r);const s=r[zt]?Array.from(r[zt]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function Ee(e){return e[Mo]||e}function we(){const e=yt(),t=Ot(e);return t.getActiveSpan?t.getActiveSpan():Kn(X())}function Ao(){Ea||(At(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Ea=!0)}function wI(e,t){e.updateName(t),e.setAttributes({[We]:"custom",[xo]:t})}let wa=!1;function Rp(){if(wa)return;function e(){const t=we(),n=t&&Ee(t);if(n){const r="internal_error";k&&g.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:pe,message:r})}}e.tag="sentry_tracingErrorCallback",wa=!0,ku(e),Cu(e)}function xt(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=L())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const Ms="production",xp=/^o(\d+)\./,Mp=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ap(e){return e==="http"||e==="https"}function Zt(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function Ju(e){const t=Mp.exec(e);if(!t){At(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Zu({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Zu(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Np(e){if(!k)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(g.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Ap(r)?t&&isNaN(parseInt(t,10))?(g.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(g.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(g.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Lp(e){const t=e.match(xp);return t==null?void 0:t[1]}function Qu(e){const t=typeof e=="string"?Ju(e):Zu(e);if(!(!t||!Np(t)))return t}const el="_frozenDsc";function Wr(e,t){Le(e,el,t)}function tl(e,t){const n=t.getOptions(),{publicKey:r,host:s}=t.getDsn()||{};let o;n.orgId?o=String(n.orgId):s&&(o=Lp(s));const i={environment:n.environment||Ms,release:n.release,public_key:r,trace_id:e,org_id:o};return t.emit("createDsc",i),i}function bi(e,t){const n=t.getPropagationContext();return n.dsc||tl(n.traceId,e)}function Je(e){var h;const t=L();if(!t)return{};const n=Ee(e),r=q(n),s=r.data,o=n.spanContext().traceState,i=(o==null?void 0:o.get("sentry.sample_rate"))??s[mi]??s[$u];function a(m){return(typeof i=="number"||typeof i=="string")&&(m.sample_rate=`${i}`),m}const c=n[el];if(c)return a(c);const u=o==null?void 0:o.get("sentry.dsc"),d=u&&Uu(u);if(d)return a(d);const l=tl(e.spanContext().traceId,t),f=s[We],p=r.description;return f!=="url"&&p&&(l.transaction=p),xt()&&(l.sampled=String(Jt(n)),l.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((h=as(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(l),t.emit("createDsc",l,n),l}function TI(e){const t=Je(e);return Wu(t)}class pt{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||ar()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Gu}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function De(e,t=100,n=1/0){try{return No("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function nl(e,t=3,n=100*1024){const r=De(e,t);return Fp(r)>n?nl(e,t-1,n):r}function No(e,t,n=1/0,r=1/0,s=$p()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Op(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return No("",p,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=Ou(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=No(p,h,c-1,r,s),l++}return i(t),d}function Op(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Mu(t))return"[VueViewModel]";if(qf(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${ut(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Dp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Dp(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Pp(e){return~-encodeURI(e).split(/%..|./).length}function Fp(e){return Pp(JSON.stringify(e))}function $p(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function St(e,t=[]){return[e,t]}function Bp(e,t){const[n,r]=e;return[n,[...r,t]]}function Vt(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Ta(e,t){return Vt(e,(n,r)=>t.includes(r))}function cs(e){const t=rr(U);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Hp(e){const t=rr(U);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function us(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[cs(r),o]:r.push(typeof o=="string"?cs(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(De(a))}s(c)}}return typeof r=="string"?r:Up(r)}function Up(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Wp(e){let t=typeof e=="string"?cs(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(Hp(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function zp(e){return[{type:"span"},e]}function jp(e){const t=typeof e.data=="string"?cs(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const qp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ia(e){return qp[e]}function Ei(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function rl(e,t,n,r){var o;const s=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Zt(r)},...s&&{trace:s}}}function Gp(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Vp(e,t,n,r){const s=Ei(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Zt(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return St(o,[i])}function Yp(e,t,n,r){const s=Ei(n),o=e.type&&e.type!=="replay_event"?e.type:"event";Gp(e,n==null?void 0:n.sdk);const i=rl(e,s,r,t);return delete e.sdkProcessingMetadata,St(i,[[{type:o},e]])}function Xp(e,t){function n(d){return!!d.trace_id&&!!d.public_key}const r=Je(e[0]),s=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:Zt(s)}},a=t==null?void 0:t.getOptions().beforeSendSpan,c=a?d=>{const l=q(d),f=a(l);return f||(Ao(),l)}:q,u=[];for(const d of e){const l=c(d);l&&u.push(zp(l))}return St(i,u)}function Kp(e){if(!k)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=q(e),{spanId:s}=e.spanContext(),o=Jt(e),i=Ee(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=q(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}g.log(`${c}
  ${u.join(`
  `)}`)}function Jp(e){if(!k)return;const{description:t="< unknown name >",op:n="< unknown op >"}=q(e),{spanId:r}=e.spanContext(),o=Ee(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;g.log(i)}function Zp(e,t,n,r=we()){const s=r&&Ee(r);s&&(k&&g.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[ur]:t,[cr]:n}))}function ka(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[cr],o=r[ur];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const Ca=1e3;class As{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||ar(),this._startTime=t.startTimestamp||me(),this._links=t.links,this._attributes={},this.setAttributes({[de]:"manual",[qe]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Si:Gu}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Wt(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(We,"custom"),this}end(t){this._endTime||(this._endTime=Wt(t),Jp(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[qe],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Xu(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[de],profile_id:this._attributes[gi],exclusive_time:this._attributes[Dn],measurements:ka(this._events),is_segment:this._isStandaloneSpan&&Ee(this)===this||void 0,segment_id:this._isStandaloneSpan?Ee(this).spanContext().spanId:void 0,links:Yu(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){k&&g.log("[Tracing] Adding an event to span:",t);const s=Ra(n)?n:r||me(),o=Ra(n)?{}:n||{},i={name:t,time:Wt(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=L();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===Ee(this)))return;if(this._isStandaloneSpan){this._sampled?eh(Xp([this],t)):(k&&g.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(as(this).scope||X()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!xa(q(this)))return;this._name||(k&&g.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=as(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const o=Ur(this).filter(l=>l!==this&&!Qp(l)).map(l=>q(l)).filter(xa),i=this._attributes[We];delete this._attributes[xo],o.forEach(l=>{delete l.data[xo]});const a={contexts:{trace:wp(this)},spans:o.length>Ca?o.sort((l,f)=>l.start_timestamp-f.start_timestamp).slice(0,Ca):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Je(this)},request:r,...i&&{transaction_info:{source:i}}},c=ka(this._events);return c&&Object.keys(c).length&&(k&&g.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Ra(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function xa(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Qp(e){return e instanceof As&&e.isStandaloneSpan()}function eh(e){const t=L();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function sl(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return th(r,t,n)}function th(e,t,n){return or(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function nh(e,t,n){if(!xt(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=Gt(s);if(o===void 0)return k&&g.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return k&&g.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const i=n<o;return i||k&&g.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,o,r]}const ls="__SENTRY_SUPPRESS_TRACING__";function vi(e,t){const n=lr();if(n.startSpan)return n.startSpan(e,t);const r=Ti(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return Ze(a,()=>ol(o)(()=>{const u=X(),d=Ii(u,o),f=e.onlyIfParent&&!d?new pt:wi({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return qt(u,f),sl(()=>t(f),()=>{const{status:p}=q(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:pe,message:"internal_error"})},()=>{f.end()})}))}function II(e,t){const n=lr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=Ti(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return Ze(a,()=>ol(o)(()=>{const u=X(),d=Ii(u,o),f=e.onlyIfParent&&!d?new pt:wi({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return qt(u,f),sl(()=>t(f,()=>f.end()),()=>{const{status:p}=q(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:pe,message:"internal_error"})})}))}function Pn(e){const t=lr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Ti(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ze(e.scope,i):s!==void 0?i=>Ns(s,i):i=>i())(()=>{const i=X(),a=Ii(i,s);return e.onlyIfParent&&!a?new pt:wi({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const kI=(e,t)=>{const n=yt(),r=Ot(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e;return Ze(i=>{const a=ju(s,o);return i.setPropagationContext(a),t()})};function Ns(e,t){const n=lr();return n.withActiveSpan?n.withActiveSpan(e,t):Ze(r=>(qt(r,e||void 0),t(r)))}function CI(e){const t=lr();return t.suppressTracing?t.suppressTracing(e):Ze(n=>{n.setSDKProcessingMetadata({[ls]:!0});const r=e();return n.setSDKProcessingMetadata({[ls]:void 0}),r})}function RI(e){return Ze(t=>(t.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),k&&g.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),Ns(null,e)))}function wi({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!xt()){const i=new pt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Je(i)};Wr(i,a)}return i}const s=ve();let o;if(e&&!n)o=rh(e,r,t),Ku(e,o);else if(e){const i=Je(e),{traceId:a,spanId:c}=e.spanContext(),u=Jt(e);o=Ma({traceId:a,parentSpanId:c,...t},r,u),Wr(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=Ma({traceId:i,parentSpanId:c,...t},r,u),a&&Wr(o,a)}return Kp(o),gp(o,r,s),o}function Ti(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Wt(e.startTime),delete r.startTime,r}return n}function lr(){const e=yt();return Ot(e)}function Ma(e,t,n){var h;const r=L(),s=(r==null?void 0:r.getOptions())||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[ls]?[!1]:nh(s,{name:o,parentSampled:a,attributes:c,parentSampleRate:Gt((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),p=new As({...e,attributes:{[We]:"custom",[mi]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(k&&g.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function rh(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[ls]?!1:Jt(e),i=o?new As({...n,parentSpanId:r,traceId:s,sampled:o}):new pt({traceId:s});Ku(e,i);const a=L();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function Ii(e,t){if(t)return t;if(t===null)return;const n=Kn(e);if(!n)return;const r=L();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?Ee(n):n}function ol(e){return e!==void 0?t=>Ns(e,t):t=>t()}const zr={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},sh="heartbeatFailed",oh="idleTimeout",ih="finalTimeout",ah="externalFinish";function il(e,t={}){const n=new Map;let r=!1,s,o=ah,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=zr.idleTimeout,finalTimeout:u=zr.finalTimeout,childSpanTimeout:d=zr.childSpanTimeout,beforeSpanEnd:l}=t,f=L();if(!f||!xt()){const b=new pt,T={sample_rate:"0",sampled:"false",...Je(b)};return Wr(b,T),b}const p=X(),h=we(),m=ch(e);m.end=new Proxy(m.end,{apply(b,T,M){if(l&&l(m),T instanceof pt)return;const[v,...I]=M,F=v||me(),E=Wt(F),A=Ur(m).filter(P=>P!==m);if(!A.length)return R(E),Reflect.apply(b,T,[E,...I]);const j=A.map(P=>q(P).timestamp).filter(P=>!!P),O=j.length?Math.max(...j):void 0,W=q(m).start_timestamp,w=Math.min(W?W+u/1e3:1/0,Math.max(W||-1/0,Math.min(E,O||1/0)));return R(w),Reflect.apply(b,T,[w,...I])}});function _(){s&&(clearTimeout(s),s=void 0)}function y(b){_(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=oh,m.end(b))},c)}function S(b){s=setTimeout(()=>{!r&&i&&(o=sh,m.end(b))},d)}function x(b){_(),n.set(b,!0);const T=me();S(T+d/1e3)}function C(b){if(n.has(b)&&n.delete(b),n.size===0){const T=me();y(T+c/1e3)}}function R(b){r=!0,n.clear(),a.forEach(E=>E()),qt(p,h);const T=q(m),{start_timestamp:M}=T;if(!M)return;T.data[os]||m.setAttribute(os,o),g.log(`[Tracing] Idle span "${T.op}" finished`);const I=Ur(m).filter(E=>E!==m);let F=0;I.forEach(E=>{E.isRecording()&&(E.setStatus({code:pe,message:"cancelled"}),E.end(b),k&&g.log("[Tracing] Cancelling span since span ended early",JSON.stringify(E,void 0,2)));const A=q(E),{timestamp:j=0,start_timestamp:O=0}=A,W=O<=b,w=(u+c)/1e3,P=j-O<=w;if(k){const N=JSON.stringify(E,void 0,2);W?P||g.log("[Tracing] Discarding span since it finished after idle span final timeout",N):g.log("[Tracing] Discarding span since it happened after idle span was finished",N)}(!P||!W)&&(Cp(m,E),F++)}),F>0&&m.setAttribute("sentry.idle_span_discarded_spans",F)}return a.push(f.on("spanStart",b=>{if(r||b===m||q(b).timestamp||b instanceof As&&b.isStandaloneSpan())return;Ur(m).includes(b)&&x(b.spanContext().spanId)})),a.push(f.on("spanEnd",b=>{r||C(b.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",b=>{b===m&&(i=!0,y(),n.size&&S())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:pe,message:"deadline_exceeded"}),o=ih,m.end())},u),m}function ch(e){const t=Pn(e);return qt(X(),t),k&&g.log("[Tracing] Started span is an idle span"),t}const no=0,Aa=1,Na=2;function ht(e){return new Mt(t=>{t(e)})}function ds(e){return new Mt((t,n)=>{n(e)})}class Mt{constructor(t){this._state=no,this._handlers=[],this._runExecutor(t)}then(t,n){return new Mt((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Mt((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===no)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Aa&&n[1](this._value),this._state===Na&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,i)=>{if(this._state===no){if(or(i)){i.then(r,s);return}this._state=o,this._value=i,this._executeHandlers()}},r=o=>{n(Aa,o)},s=o=>{n(Na,o)};try{t(r,s)}catch(o){s(o)}}}function Lo(e,t,n,r=0){return new Mt((s,o)=>{const i=e[r];if(t===null||typeof i!="function")s(t);else{const a=i({...t},n);k&&i.id&&a===null&&g.log(`Event processor "${i.id}" dropped event`),or(a)?a.then(c=>Lo(e,c,n,r+1).then(s)).then(null,o):Lo(e,a,n,r+1).then(s).then(null,o)}})}function uh(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;lh(e,t),r&&ph(e,r),hh(e,n),dh(e,s),fh(e,o)}function fs(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;Er(e,"extra",n),Er(e,"tags",r),Er(e,"user",s),Er(e,"contexts",o),e.sdkProcessingMetadata=ir(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Er(e,t,n){e[t]=ir(e[t],n,1)}function lh(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function dh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function fh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function ph(e,t){e.contexts={trace:Vu(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Je(t),...e.sdkProcessingMetadata};const n=Ee(t),r=q(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function hh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let vr,La,wr;function al(e){const t=U._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return wr&&n.length===La||(La=n.length,wr=n.reduce((r,s)=>{vr||(vr={});const o=vr[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c==null?void 0:c.filename,d=t[s];if(u&&d){r[u]=d,vr[s]=[u,d];break}}}return r},{})),wr}function mh(e,t){const n=al(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function cl(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Me(),timestamp:t.timestamp||Kt()},u=n.integrations||e.integrations.map(_=>_.name);gh(c,e),Sh(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&_h(c,e.stackParser);const d=Eh(r,n.captureContext);n.mechanism&&Rt(c,n.mechanism);const l=s?s.getEventProcessors():[],f=hi().getScopeData();if(o){const _=o.getScopeData();fs(f,_)}if(d){const _=d.getScopeData();fs(f,_)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),uh(c,f);const h=[...l,...f.eventProcessors];return Lo(h,c,n).then(_=>(_&&yh(_),typeof i=="number"&&i>0?bh(_,i,a):_))}function gh(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||Ms,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const i=e.request;i!=null&&i.url&&(i.url=_n(i.url,o))}function _h(e,t){var r,s;const n=al(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function yh(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,i])=>{n.push({type:"sourcemap",code_file:o,debug_id:i})})}function Sh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function bh(e,t,n){var s,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:De(i.data,t,n)}}))},...e.user&&{user:De(e.user,t,n)},...e.contexts&&{contexts:De(e.contexts,t,n)},...e.extra&&{extra:De(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=De(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:De(i.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=De(e.contexts.flags,3,n)),r}function Eh(e,t){if(!t)return e;const n=e?e.clone():new nt;return n.update(t),n}function vh(e){if(e)return wh(e)?{captureContext:e}:Ih(e)?{captureContext:e}:e}function wh(e){return e instanceof nt||typeof e=="function"}const Th=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Ih(e){return Object.keys(e).some(t=>Th.includes(t))}function bn(e,t){return X().captureException(e,vh(t))}function Oo(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return X().captureMessage(e,n,r)}function Ls(e,t){return X().captureEvent(e,t)}function kh(e,t){ve().setContext(e,t)}function xI(e){ve().setExtras(e)}function MI(e,t){ve().setExtra(e,t)}function AI(e){ve().setTags(e)}function NI(e,t){ve().setTag(e,t)}function LI(e){ve().setUser(e)}function Ch(){return ve().lastEventId()}async function OI(e){const t=L();return t?t.flush(e):(k&&g.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function DI(e){const t=L();return t?t.close(e):(k&&g.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function PI(){return!!L()}function Rh(){const e=L();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function xh(e){ve().addEventProcessor(e)}function Oa(e){const t=ve(),n=X(),{userAgent:r}=U.navigator||{},s=tp({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&yn(o,{status:"exited"}),ul(),t.setSession(s),s}function ul(){const e=ve(),n=X().getSession()||e.getSession();n&&np(n),ll(),e.setSession()}function ll(){const e=ve(),t=L(),n=e.getSession();n&&t&&t.captureSession(n)}function Da(e=!1){if(e){ul();return}ll()}const Mh="7";function dl(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Ah(e){return`${dl(e)}${e.projectId}/envelope/`}function Nh(e,t){const n={sentry_version:Mh};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function fl(e,t,n){return t||`${Ah(e)}?${Nh(e,n)}`}function Lh(e,t){const n=Qu(e);if(!n)return"";const r=`${dl(n)}embed/error-page/`;let s=`dsn=${Zt(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Pa=[];function Oh(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Dh(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return Oh(r)}function Ph(e,t){const n={};return t.forEach(r=>{r&&pl(e,r,n)}),n}function Fa(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function pl(e,t,n){if(n[t.name]){k&&g.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Pa.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Pa.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}k&&g.log(`Integration installed: ${t.name}`)}function $a(e){const t=L();if(!t){k&&g.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Fh(e,t,n){const r=[{type:"client_report"},{timestamp:Kt(),discarded_events:e}];return St(t?{dsn:t}:{},[r])}function hl(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function $h(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[gi],exclusive_time:i==null?void 0:i[Dn],measurements:e.measurements,is_segment:!0}}function Bh(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[gi]:e.profile_id},...e.exclusive_time&&{[Dn]:e.exclusive_time}}}},measurements:e.measurements}}const Ba="Not capturing exception because it's already been captured.",Ha="Discarded session because of missing or non-string release",ml=Symbol.for("SentryInternalError"),gl=Symbol.for("SentryDoNotSendEventError");function jr(e){return{message:e,[ml]:!0}}function ro(e){return{message:e,[gl]:!0}}function Ua(e){return!!e&&typeof e=="object"&&ml in e}function Wa(e){return!!e&&typeof e=="object"&&gl in e}class Hh{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Qu(t.dsn):k&&g.warn("No DSN provided, client will not send events."),this._dsn){const n=fl(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=Me();if(_a(t))return k&&g.log(Ba),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:Me(),...r},i=Rs(t)?t:String(t),a=gn(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=Me();if(n!=null&&n.originalException&&_a(n.originalException))return k&&g.log(Ba),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,c)),o.event_id}captureSession(t){this.sendSession(t),yn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):ht(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];pl(this,t,this._integrations),n||Fa(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Yp(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Bp(r,jp(o));const s=this.sendEnvelope(r);s&&s.then(o=>this.emit("afterSendEvent",t,o),null)}sendSession(t){const{release:n,environment:r=Ms}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){k&&g.warn(Ha);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){k&&g.warn(Ha);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=Vp(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;k&&g.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(k&&g.error("Error while sending envelope:",n),n)):(k&&g.error("Transport disabled"),ht({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Ph(this,t),Fa(this,t)}_updateSessionFromEvent(t,n){var c;let r=n.level==="fatal",s=!1;const o=(c=n.exception)==null?void 0:c.values;if(o){s=!0;for(const u of o){const d=u.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(yn(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Mt(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),cl(o,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Fu(r),...a.contexts};const c=bi(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=X(),s=ve()){return k&&Do(t)&&g.log(`Captured error event \`${hl(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{k&&(Wa(o)?g.log(o.message):Ua(o)?g.warn(o.message):g.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,a=_l(t),c=Do(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:Gt(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),ds(ro(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),ro("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const m=Wh(this,o,p,n);return Uh(m,d)}).then(p=>{var _;if(p===null){if(this.recordDroppedEvent("before_send",f),a){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw ro(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,p),a){const y=((_=p.sdkProcessingMetadata)==null?void 0:_.spanCountBeforeProcessing)||0,S=p.spans?p.spans.length:0,x=y-S;x>0&&this.recordDroppedEvent("before_send","span",x)}const m=p.transaction_info;if(a&&m&&p.transaction!==t.transaction){const y="custom";p.transaction_info={...m,source:y}}return this.sendEvent(p,n),p}).then(null,p=>{throw Wa(p)||Ua(p)?p:(this.captureException(p,{data:{__sentry__:!0},originalException:p}),jr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){k&&g.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){k&&g.log("No outcomes to send");return}if(!this._dsn){k&&g.log("No dsn provided, will not send outcomes");return}k&&g.log("Sending outcomes:",t);const n=Fh(t,this._options.tunnel&&Zt(this._dsn));this.sendEnvelope(n)}}function Uh(e,t){const n=`${t} must return \`null\` or a valid event.`;if(or(e))return e.then(r=>{if(!lt(r)&&r!==null)throw jr(n);return r},r=>{throw jr(`${t} rejected with ${r}`)});if(!lt(e)&&e!==null)throw jr(n);return e}function Wh(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i}=t;let a=n;if(Do(a)&&s)return s(a,r);if(_l(a)){if(i){const c=i($h(a));if(c?a=ir(n,Bh(c)):Ao(),a.spans){const u=[];for(const d of a.spans){const l=i(d);l?u.push(l):(Ao(),u.push(d))}a.spans=u}}if(o){if(a.spans){const c=a.spans.length;a.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return o(a,r)}}return a}function Do(e){return e.type===void 0}function _l(e){return e.type==="transaction"}function zh(e,t){return t?Ze(t,()=>{const n=we(),r=n?Vu(n):Fu(t);return[n?Je(n):bi(e,t),r]}):[void 0,void 0]}const jh={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function qh(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Gh(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Zt(r)),St(s,[qh(e)])}const Vh=100;function Yh(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function bt(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Xh(e,t){const n=ki(),r=yl(e);r===void 0?n.set(e,[t]):r.length>=Vh?(qr(e,r),n.set(e,[t])):n.set(e,[...r,t])}function Po(e,t=L(),n=X(),r=Xh){var F;if(!t){k&&g.warn("No client available to capture log.");return}const{release:s,environment:o,enableLogs:i,beforeSendLog:a,_experiments:c}=t.getOptions();if(!(i??(c==null?void 0:c.enableLogs))){k&&g.warn("logging option not enabled, log will not be captured.");return}const d=a??(c==null?void 0:c.beforeSendLog),[,l]=zh(t,n),f={...e.attributes},{user:{id:p,email:h,username:m}}=Kh(n);bt(f,"user.id",p,!1),bt(f,"user.email",h,!1),bt(f,"user.name",m,!1),bt(f,"sentry.release",s),bt(f,"sentry.environment",o);const{name:_,version:y}=((F=t.getSdkMetadata())==null?void 0:F.sdk)??{};bt(f,"sentry.sdk.name",_),bt(f,"sentry.sdk.version",y);const S=e.message;if(Rs(S)){const{__sentry_template_string__:E,__sentry_template_values__:A=[]}=S;f["sentry.message.template"]=E,A.forEach((j,O)=>{f[`sentry.message.parameter.${O}`]=j})}const x=Kn(n);bt(f,"sentry.trace.parent_span_id",x==null?void 0:x.spanContext().spanId);const C={...e,attributes:f};t.emit("beforeCaptureLog",C);const R=d?At(()=>d(C)):C;if(!R){t.recordDroppedEvent("before_send","log_item",1),k&&g.warn("beforeSendLog returned null, log will not be captured.");return}const{level:b,message:T,attributes:M={},severityNumber:v}=R,I={timestamp:me(),level:b,body:T,trace_id:l==null?void 0:l.trace_id,severity_number:v??jh[b],attributes:Object.keys(M).reduce((E,A)=>(E[A]=Yh(M[A]),E),{})};r(t,I),t.emit("afterCaptureLog",R)}function qr(e,t){const n=t??yl(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Gh(n,r._metadata,r.tunnel,e.getDsn());ki().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function yl(e){return ki().get(e)}function Kh(e){const t=hi().getScopeData();return fs(t,ve().getScopeData()),fs(t,e.getScopeData()),t}function ki(){return sr("clientToLogBufferMap",()=>new WeakMap)}function Jh(e,t){t.debug===!0&&(k?g.enable():At(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),X().update(t.initialScope);const r=new e(t);return Zh(r),r.init(),r}function Zh(e){X().setClient(e)}const Sl=Symbol.for("SentryBufferFullError");function Qh(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return ds(Sl);const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new Mt((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{ht(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const em=60*1e3;function bl(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?em:r-t}function tm(e,t){return e[t]||e.all||0}function El(e,t,n=Date.now()){return tm(e,t)>n}function vl(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[p]=r+f):s[p]=r+f}else i?s.all=r+bl(i,r):t===429&&(s.all=r+60*1e3);return s}const nm=64;function rm(e,t,n=Qh(e.bufferSize||nm)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(Vt(i,(l,f)=>{const p=Ia(f);El(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return ht({});const c=St(i[0],a),u=l=>{Vt(c,(f,p)=>{e.recordDroppedEvent(l,Ia(p))})},d=()=>t({body:us(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&k&&g.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=vl(r,l),l),l=>{throw u("network_error"),k&&g.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Sl)return k&&g.error("Skipped sending event because buffer is full."),u("queue_overflow"),ht({});throw l})}return{send:o,flush:s}}const so=100,oo=5e3,sm=36e5;function om(e){function t(...n){k&&g.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=oo,i;function a(l,f,p){return Ta(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await s.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,sm))}async function d(l,f=!1){var p,h;if(!f&&Ta(l,["replay_event","replay_recording"]))return await s.push(l),c(so),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const m=await r.send(l);let _=so;if(m){if((p=m.headers)!=null&&p["retry-after"])_=bl(m.headers["retry-after"]);else if((h=m.headers)!=null&&h["x-sentry-rate-limits"])_=6e4;else if((m.statusCode||0)>=400)return m}return c(_),o=oo,m}catch(m){if(await a(l,m,o))return f?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",m),{};throw m}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=oo,c(so)),r.flush(l))}}}function wl(e,t){let n;return Vt(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function im(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=wl(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function am(e,t){return St(t?{...e[0],dsn:t}:e[0],e[1])}function FI(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const f=Ju(c);if(!f)return;const p=fl(f,n.tunnel);l=u?im(e,u)({...n,url:p}):e({...n,url:p}),s.set(d,l)}return[c,l]}async function i(c){function u(p){const h=p!=null&&p.length?p:["event"];return wl(c,h)}const d=t({envelope:c,getEvent:u}).map(p=>typeof p=="string"?o(p,void 0):o(p.dsn,p.release)).filter(p=>!!p),l=d.length?d:[["",r]];return(await Promise.all(l.map(([p,h])=>h.send(am(c,p)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}function Tl(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return um(e,n)||cm(e,r)}function cm(e,t){return t?za(e)===za(t):!1}function um(e,t){return t?e.includes(t.host):!1}function za(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function lm(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}const dm=lm;function fm(e){var t;((t=e.user)==null?void 0:t.ip_address)===void 0&&(e.user={...e.user,ip_address:"{{auto}}"})}function pm(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function hm(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:It})),version:It}),e._metadata=s}function Il(e={}){const t=e.client||L();if(!Rh()||!t)return{};const n=yt(),r=Ot(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||X(),o=e.span||we(),i=o?Tp(o):mm(s),a=o?Je(o):bi(t,s),c=Wu(a);return zu.test(i)?{"sentry-trace":i,baggage:c}:(g.warn("Invalid sentry-trace data. Cannot generate trace data"),{})}function mm(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return qu(t,r,n)}function gm(e,t,n){let r,s,o;const i=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function d(){return s!==void 0||o!==void 0?c():r}function l(){return s&&clearTimeout(s),s=a(c,t),i&&o===void 0&&(o=a(c,i)),r}return l.cancel=u,l.flush=d,l}const _m=100;function mt(e,t){const n=L(),r=ve();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=_m}=n.getOptions();if(o<=0)return;const a={timestamp:Kt(),...e},c=s?At(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let ja;const ym="FunctionToString",qa=new WeakMap,Sm=(()=>({name:ym,setupOnce(){ja=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=pi(this),n=qa.has(L())&&t!==void 0?t:this;return ja.apply(n,e)}}catch{}},setup(e){qa.set(e,!0)}})),bm=Sm,Em=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],vm="EventFilters",wm=(e={})=>{let t;return{name:vm,setup(n){const r=n.getOptions();t=Ga(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=Ga(e,o)}return Im(n,t)?null:n}}},Tm=((e={})=>({...wm(e),name:"InboundFilters"}));function Ga(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Em],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Im(e,t){if(e.type){if(e.type==="transaction"&&Cm(e,t.ignoreTransactions))return k&&g.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ft(e)}`),!0}else{if(km(e,t.ignoreErrors))return k&&g.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ft(e)}`),!0;if(Am(e))return k&&g.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ft(e)}`),!0;if(Rm(e,t.denyUrls))return k&&g.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ft(e)}.
Url: ${ps(e)}`),!0;if(!xm(e,t.allowUrls))return k&&g.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ft(e)}.
Url: ${ps(e)}`),!0}return!1}function km(e,t){return t!=null&&t.length?hl(e).some(n=>Ke(n,t)):!1}function Cm(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?Ke(n,t):!1}function Rm(e,t){if(!(t!=null&&t.length))return!1;const n=ps(e);return n?Ke(n,t):!1}function xm(e,t){if(!(t!=null&&t.length))return!0;const n=ps(e);return n?Ke(n,t):!0}function Mm(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function ps(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var i,a,c;return((i=o.mechanism)==null?void 0:i.parent_id)===void 0&&((c=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?Mm(s):null}catch{return k&&g.error(`Cannot extract url for event ${Ft(e)}`),null}}function Am(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function Nm(e,t,n,r,s,o){var a;if(!((a=s.exception)!=null&&a.values)||!o||!dt(o.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=Fo(e,t,r,o.originalException,n,s.exception.values,i,0))}function Fo(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(dt(r[s],Error)){Va(i,a);const u=e(t,r[s]),d=c.length;Ya(u,s,d,a),c=Fo(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(dt(u,Error)){Va(i,a);const l=e(t,u),f=c.length;Ya(l,`errors[${d}]`,f,a),c=Fo(e,t,n,u,s,[l,...c],l,f)}}),c}function Va(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Ya(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const kl=new Map,Xa=new Set;function Lm(e){if(U._sentryModuleMetadata)for(const t of Object.keys(U._sentryModuleMetadata)){const n=U._sentryModuleMetadata[t];if(Xa.has(t))continue;Xa.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){kl.set(s.filename,n);break}}}function Om(e,t){return Lm(e),kl.get(t)}function Cl(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=Om(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function Rl(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const $I=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{Vt(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(Rl(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;Cl(n,t)})}});function Ci(e){const t="console";Nt(t,e),Lt(t,Dm)}function Dm(){"console"in U&&ui.forEach(function(e){e in U.console&&xe(U.console,e,function(t){return rs[e]=t,function(...n){ze("console",{args:n,level:e});const s=rs[e];s==null||s.apply(U.console,n)}})})}function Ri(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Pm="CaptureConsole",Fm=((e={})=>{const t=e.levels||ui,n=e.handled??!0;return{name:Pm,setup(r){"console"in U&&Ci(({args:s,level:o})=>{L()!==r||!t.includes(o)||$m(s,o,n)})}}}),BI=Fm;function $m(e,t,n){const r={level:Ri(t),extra:{arguments:e}};Ze(s=>{if(s.addEventProcessor(a=>(a.logger="console",Rt(a,{handled:n,type:"console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${ss(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),Oo(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){bn(o,r);return}const i=ss(e," ");Oo(i,r)})}const Bm="Dedupe",Hm=(()=>{let e;return{name:Bm,processEvent(t){if(t.type)return t;try{if(Wm(t,e))return k&&g.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Um=Hm;function Wm(e,t){return t?!!(zm(e,t)||jm(e,t)):!1}function zm(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ml(e,t)||!xl(e,t))}function jm(e,t){const n=Ka(t),r=Ka(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ml(e,t)||!xl(e,t))}function xl(e,t){let n=ko(e),r=ko(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function Ml(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Ka(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const qm="ExtraErrorData",Gm=((e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:qm,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return Vm(r,s,t,n,i)}}}),HI=Gm;function Vm(e,t={},n,r,s){if(!t.originalException||!kt(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=Ym(t.originalException,r,s);if(i){const a={...e.contexts},c=De(i,n);return lt(c)&&(Le(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function Ym(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=kt(i)||typeof i=="string"?_n(`${i}`,n):i}if(t&&e.cause!==void 0&&(s.cause=kt(e.cause)?e.cause.toString():e.cause),typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=kt(a)?a.toString():a}}return s}catch(r){k&&g.error("Unable to extract extra data from the Error object:",r)}return null}function Xm(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const Km=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function Jm(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=Km.exec(t);return n?n.slice(1):[]}function Ja(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=Xm(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function Za(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function Zm(e,t){e=Ja(e).slice(1),t=Ja(t).slice(1);const n=Za(e.split("/")),r=Za(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function Qm(e,t){return Jm(e)[2]||""}const eg="RewriteFrames",UI=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in U&&!!U.window,s=e.iteratee||tg({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){var c;return{...a,frames:(c=a==null?void 0:a.frames)==null?void 0:c.map(u=>s(u))}}return{name:eg,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function tg({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?Zm(t,i):Qm(i);r.filename=`${n}${a}`}return r}}const ng=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],rg=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],sg={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},Al=["select","insert","upsert","update","delete"];function Os(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function Ds(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function og(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function ig(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let s;return n!=null&&n.startsWith("fts")?s="textSearch":n!=null&&n.startsWith("plfts")?s="textSearch[plain]":n!=null&&n.startsWith("phfts")?s="textSearch[phrase]":n!=null&&n.startsWith("wfts")?s="textSearch[websearch]":s=n&&sg[n]||"filter",`${s}(${e}, ${r.join(".")})`}function Qa(e,t=!1){return new Proxy(e,{apply(n,r,s){return vi({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[de]:"auto.db.supabase",[qe]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},o=>Reflect.apply(n,r,s).then(i=>(i&&typeof i=="object"&&"error"in i&&i.error?(o.setStatus({code:pe}),bn(i.error,{mechanism:{handled:!1}})):o.setStatus({code:_i}),o.end(),i)).catch(i=>{throw o.setStatus({code:pe}),o.end(),bn(i,{mechanism:{handled:!1}}),i}).then(...s))}})}function ag(e){const t=e.auth;if(!(!t||Ds(e.auth))){for(const n of ng){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=Qa(r))}for(const n of rg){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=Qa(r,!0))}Os(e.auth)}}function cg(e){Ds(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const s=Reflect.apply(t,n,r),o=s.constructor;return lg(o),s}}),Os(e.prototype.from))}function ug(e){Ds(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var p;const s=Al,o=n,i=og(o.method,o.headers);if(!s.includes(i)||!((p=o==null?void 0:o.url)!=null&&p.pathname)||typeof o.url.pathname!="string")return Reflect.apply(t,n,r);const a=o.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[h,m]of o.url.searchParams.entries())u.push(ig(h,m));const d=Object.create(null);if(lt(o.body))for(const[h,m]of Object.entries(o.body))d[h]=m;const l=`${i==="select"?"":`${i}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":o.schema,"db.url":o.url.origin,"db.sdk":o.headers["X-Client-Info"],"db.system":"postgresql","db.operation":i,[de]:"auto.db.supabase",[qe]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),vi({name:l,attributes:f},h=>Reflect.apply(t,n,[]).then(m=>{if(h&&(m&&typeof m=="object"&&"status"in m&&is(h,m.status||500),h.end()),m.error){const S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);const x={};u.length&&(x.query=u),Object.keys(d).length&&(x.body=d),bn(S,{contexts:{supabase:x}})}const _={type:"supabase",category:`db.${i}`,message:l},y={};return u.length&&(y.query=u),Object.keys(d).length&&(y.body=d),Object.keys(y).length&&(_.data=y),mt(_),m},m=>{throw h&&(is(h,500),h.end()),m}).then(...r))}}),Os(e.prototype.then))}function lg(e){for(const t of Al)Ds(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,s){const o=Reflect.apply(n,r,s),i=o.constructor;return k&&g.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),ug(i),o}}),Os(e.prototype[t]))}const dg=e=>{if(!e){k&&g.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;cg(t),ag(e)},fg="Supabase",pg=(e=>({setupOnce(){dg(e)},name:fg})),WI=e=>pg(e.supabaseClient),hg=10,mg="ZodErrors";function gg(e){return kt(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function _g(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function yg(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function Sg(e){const t=new Set;for(const r of e.issues){const s=yg(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${_n(n.join(", "),100)}`}function bg(e,t=!1,n,r){var s;if(!((s=n.exception)!=null&&s.values)||!r.originalException||!gg(r.originalException)||r.originalException.issues.length===0)return n;try{const i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(_g);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:Sg(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}const Eg=((e={})=>{const t=e.limit??hg;return{name:mg,processEvent(n,r){return bg(t,e.saveZodIssuesAsAttachment,n,r)}}}),zI=Eg,jI=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{Vt(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(Rl(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;Cl(r,n)})},processEvent(t){const n=vg(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function vg(e){const t=ko(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(ec)).map(r=>r.slice(ec.length)):[])}const ec="_sentryBundlerPluginAppKey:",wg=100,Tg=10,Tr="flag.evaluation.";function dr(e){const n=X().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function En(e,t,n=wg){const r=X().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;Ig(s,e,t,n)}function Ig(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){k&&g.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function vn(e,t,n=Tg){if(typeof t!="boolean")return;const r=we();if(!r)return;const s=q(r).data;if(`${Tr}${e}`in s){r.setAttribute(`${Tr}${e}`,t);return}Object.keys(s).filter(i=>i.startsWith(Tr)).length<n&&r.setAttribute(`${Tr}${e}`,t)}const qI=()=>({name:"FeatureFlags",processEvent(e,t,n){return dr(e)},addFeatureFlag(e,t){En(e,t),vn(e,t)}}),kg="thismessage:/";function Nl(e){return"isRelative"in e}function Ll(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?kg:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Cg(e){if(Nl(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function jt(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Ol(e){return e.split(/[?#]/,1)[0]}function Rg(e,t,n,r,s="auto.http.browser"){if(!e.fetchData)return;const{method:o,url:i}=e.fetchData,a=xt()&&t(i);if(e.endTimestamp&&a){const l=e.fetchData.__span;if(!l)return;const f=r[l];f&&(Mg(f,e),delete r[l]);return}const c=!!we(),u=a&&c?Pn(Ng(i,o,s)):new pt;if(e.fetchData.__span=u.spanContext().spanId,r[u.spanContext().spanId]=u,n(e.fetchData.url)){const l=e.args[0],f=e.args[1]||{},p=xg(l,f,xt()&&c?u:void 0);p&&(e.args[1]=f,f.headers=p)}const d=L();if(d){const l={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};d.emit("beforeOutgoingRequestSpan",u,l)}return u}function xg(e,t,n){const r=Il({span:n}),s=r["sentry-trace"],o=r.baggage;if(!s)return;const i=t.headers||(Au(e)?e.headers:void 0);if(i)if(Ag(i)){const a=new Headers(i);if(a.get("sentry-trace")||a.set("sentry-trace",s),o){const c=a.get("baggage");c?Ir(c)||a.set("baggage",`${c},${o}`):a.set("baggage",o)}return a}else if(Array.isArray(i)){const a=[...i];i.find(u=>u[0]==="sentry-trace")||a.push(["sentry-trace",s]);const c=i.find(u=>u[0]==="baggage"&&Ir(u[1]));return o&&!c&&a.push(["baggage",o]),a}else{const a="sentry-trace"in i?i["sentry-trace"]:void 0,c="baggage"in i?i.baggage:void 0,u=c?Array.isArray(c)?[...c]:[c]:[],d=c&&(Array.isArray(c)?c.find(l=>Ir(l)):Ir(c));return o&&!d&&u.push(o),{...i,"sentry-trace":a??s,baggage:u.length>0?u.join(","):void 0}}else return{...r}}function Mg(e,t){var n,r;if(t.response){is(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const o=parseInt(s);o>0&&e.setAttribute("http.response_content_length",o)}}else t.error&&e.setStatus({code:pe,message:"internal_error"});e.end()}function Ir(e){return e.split(",").some(t=>t.trim().startsWith(yi))}function Ag(e){return typeof Headers<"u"&&dt(e,Headers)}function Ng(e,t,n){const r=Ll(e);return{name:r?`${t} ${Cg(r)}`:t,attributes:Lg(e,r,t,n)}}function Lg(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[de]:r,[qe]:"http.client"};return t&&(Nl(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Og(e,t={},n=X()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=(n==null?void 0:n.getClient())||L();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}const Dg="ConsoleLogs",tc={[de]:"auto.console.logging"},Pg=((e={})=>{const t=e.levels||ui;return{name:Dg,setup(n){const{enableLogs:r,_experiments:s,normalizeDepth:o=3,normalizeMaxBreadth:i=1e3}=n.getOptions();if(!(r??(s==null?void 0:s.enableLogs))){k&&g.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Ci(({args:c,level:u})=>{if(L()!==n||!t.includes(u))return;if(u==="assert"){if(!c[0]){const l=c.slice(1),f=l.length>0?`Assertion failed: ${nc(l,o,i)}`:"Assertion failed";Po({level:"error",message:f,attributes:tc})}return}const d=u==="log";Po({level:d?"info":u,message:nc(c,o,i),severityNumber:d?10:void 0,attributes:tc})})}}}),GI=Pg;function nc(e,t,n){return"util"in U&&typeof U.util.format=="function"?U.util.format(...e):Fg(e,t,n)}function Fg(e,t,n){return e.map(r=>gn(r)?String(r):JSON.stringify(De(r,t,n))).join(" ")}function Dl(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const wn=U;function $g(){return"history"in wn&&!!wn.history}function Bg(){if(!("fetch"in wn))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function $o(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Pl(){var n;if(typeof EdgeRuntime=="string")return!0;if(!Bg())return!1;if($o(wn.fetch))return!0;let e=!1;const t=wn.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=$o(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){k&&g.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function Hg(){return"ReportingObserver"in wn}function xi(e,t){const n="fetch";Nt(n,e),Lt(n,()=>Fl(void 0,t))}function Ug(e){const t="fetch-body-resolved";Nt(t,e),Lt(t,()=>Fl(zg))}function Fl(e,t=!1){t&&!Pl()||xe(U,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=jg(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:me()*1e3,virtualError:s,headers:qg(r)};return e||ze("fetch",{...a}),n.apply(U,r).then(async c=>(e?e(c):ze("fetch",{...a,endTimestamp:me()*1e3,response:c}),c),c=>{if(ze("fetch",{...a,endTimestamp:me()*1e3,error:c}),kt(c)&&c.stack===void 0&&(c.stack=s.stack,Le(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Wg(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function zg(e){let t;try{t=e.clone()}catch{return}Wg(t,()=>{ze("fetch-body-resolved",{endTimestamp:me()*1e3,response:e})})}function Bo(e,t){return!!e&&typeof e=="object"&&!!e[t]}function rc(e){return typeof e=="string"?e:e?Bo(e,"url")?e.url:e.toString?e.toString():"":""}function jg(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:rc(n),method:Bo(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:rc(t),method:Bo(t,"method")?String(t.method).toUpperCase():"GET"}}function qg(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Au(t))return new Headers(t.headers)}catch{}}function Gg(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Vg(){return"npm"}function Yg(){return!Gg()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ho(){return typeof window<"u"&&(!Yg()||Xg())}function Xg(){const e=U.process;return(e==null?void 0:e.type)==="renderer"}const Ye=U,se=Ye.document,jn=Ye.navigator,$l="Report a Bug",Kg="Cancel",Jg="Send Bug Report",Zg="Confirm",Qg="Report a Bug",e_="your.email@example.org",t_="Email",n_="What's the bug? What did you expect?",r_="Description",s_="Your Name",o_="Name",i_="Thank you for your report!",a_="(required)",c_="Add a screenshot",u_="Remove screenshot",l_="widget",d_="api",f_=5e3,p_=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=L();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&X().setTags(e.tags);const r=Og({source:d_,url:Xt(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u&&typeof u.statusCode=="number"&&u.statusCode>=200&&u.statusCode<300?s(r):u&&typeof u.statusCode=="number"&&u.statusCode===0?o("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):u&&typeof u.statusCode=="number"&&u.statusCode===403?o("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker")})})},Gr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function h_(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(jn.userAgent)||/Macintosh/i.test(jn.userAgent)&&jn.maxTouchPoints&&jn.maxTouchPoints>1||!isSecureContext)}function kr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:(n,r)=>{var s,o;(s=t.onSubmitSuccess)==null||s.call(t,n,r),(o=e.onSubmitSuccess)==null||o.call(e,n,r)},onSubmitError:n=>{var r,s;(r=t.onSubmitError)==null||r.call(t,n),(s=e.onSubmitError)==null||s.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function m_(e){const t=se.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function Fe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const rn=20,g_="http://www.w3.org/2000/svg";function __(){const e=a=>Ye.document.createElementNS(g_,a),t=Fe(e("svg"),{width:`${rn}`,height:`${rn}`,viewBox:`0 0 ${rn} ${rn}`,fill:"var(--actor-color, var(--foreground))"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=Fe(e("clipPath"),{id:"clip0_57_80"}),i=Fe(e("rect"),{width:`${rn}`,height:`${rn}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function y_({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=se.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||$l,s.appendChild(__()),e){const i=se.createElement("span");i.appendChild(se.createTextNode(e)),s.appendChild(i)}const o=m_(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){s.remove(),o.remove()},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const Bl="rgba(88, 74, 192, 1)",S_={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:Bl,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},sc={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:Bl,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function oc(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function b_({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=se.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${oc(e==="dark"?{...sc,...t}:{...S_,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${oc({...sc,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const Hl=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>(({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:m,colorScheme:_="system",themeLight:y={},themeDark:S={},addScreenshotButtonLabel:x=c_,cancelButtonLabel:C=Kg,confirmButtonLabel:R=Zg,emailLabel:b=t_,emailPlaceholder:T=e_,formTitle:M=Qg,isRequiredLabel:v=a_,messageLabel:I=r_,messagePlaceholder:F=n_,nameLabel:E=o_,namePlaceholder:A=s_,removeScreenshotButtonLabel:j=u_,submitButtonLabel:O=Jg,successMessageText:W=i_,triggerLabel:w=$l,triggerAriaLabel:P="",onFormOpen:N,onFormClose:K,onSubmitSuccess:Q,onSubmitError:ye,onFormSubmitted:Se}={})=>{const ge={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:m,colorScheme:_,themeDark:S,themeLight:y,triggerLabel:w,triggerAriaLabel:P,cancelButtonLabel:C,submitButtonLabel:O,confirmButtonLabel:R,formTitle:M,emailLabel:b,emailPlaceholder:T,messageLabel:I,messagePlaceholder:F,nameLabel:E,namePlaceholder:A,successMessageText:W,isRequiredLabel:v,addScreenshotButtonLabel:x,removeScreenshotButtonLabel:j,onFormClose:K,onFormOpen:N,onSubmitError:ye,onSubmitSuccess:Q,onFormSubmitted:Se};let Oe=null,rt=[];const tn=te=>{if(!Oe){const be=se.createElement("div");be.id=String(te.id),se.body.appendChild(be),Oe=be.attachShadow({mode:"open"}),Oe.appendChild(b_(te))}return Oe},nn=async te=>{const be=te.enableScreenshot&&h_();let $e,he;try{$e=(t?t():await e("feedbackModalIntegration",m))(),$a($e)}catch{throw Gr&&g.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Ie=be?n?n():await e("feedbackScreenshotIntegration",m):void 0;Ie&&(he=Ie(),$a(he))}catch{Gr&&g.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const re=$e.createDialog({options:{...te,onFormClose:()=>{var Ie;re==null||re.close(),(Ie=te.onFormClose)==null||Ie.call(te)},onFormSubmitted:()=>{var Ie;re==null||re.close(),(Ie=te.onFormSubmitted)==null||Ie.call(te)}},screenshotIntegration:he,sendFeedback:p_,shadow:tn(te)});return re},Wn=(te,be={})=>{const $e=kr(ge,be),he=typeof te=="string"?se.querySelector(te):typeof te.addEventListener=="function"?te:null;if(!he)throw Gr&&g.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let re=null;const Ie=async()=>{re||(re=await nn({...$e,onFormSubmitted:()=>{var ot;re==null||re.removeFromDom(),(ot=$e.onFormSubmitted)==null||ot.call($e)}})),re.appendToDom(),re.open()};he.addEventListener("click",Ie);const Dt=()=>{rt=rt.filter(ot=>ot!==Dt),re==null||re.removeFromDom(),re=null,he.removeEventListener("click",Ie)};return rt.push(Dt),Dt},st=(te={})=>{const be=kr(ge,te),$e=tn(be),he=y_({triggerLabel:be.triggerLabel,triggerAriaLabel:be.triggerAriaLabel,shadow:$e,styleNonce:h});return Wn(he.el,{...be,onFormOpen(){he.hide()},onFormClose(){he.show()},onFormSubmitted(){he.show()}}),he};return{name:"Feedback",setupOnce(){!Ho()||!ge.autoInject||(se.readyState==="loading"?se.addEventListener("DOMContentLoaded",()=>st().appendToDom()):st().appendToDom())},attachTo:Wn,createWidget(te={}){const be=st(kr(ge,te));return be.appendToDom(),be},async createForm(te={}){return nn(kr(ge,te))},remove(){var te;Oe&&((te=Oe.parentElement)==null||te.remove(),Oe=null),rt.forEach(be=>be()),rt=[]}}});function VI(){const e=L();return e==null?void 0:e.getIntegrationByName("Feedback")}var Ps,ie,Ul,$t,ic,Wl,Uo,Jn={},Mi=[],E_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ai=Array.isArray;function Tt(e,t){for(var n in t)e[n]=t[n];return e}function zl(e){var t=e.parentNode;t&&t.removeChild(e)}function V(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?Ps.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return Vr(e,i,r,s,null)}function Vr(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++Ul,__i:-1,__u:0};return s==null&&ie.vnode!=null&&ie.vnode(o),o}function fr(e){return e.children}function Yr(e,t){this.props=e,this.context=t}function Tn(e,t){if(t==null)return e.__?Tn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Tn(e):null}function v_(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Tt({},s)).__v=s.__v+1,ie.vnode&&ie.vnode(r),Ni(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??Tn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&jl(r),r}function jl(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return jl(e)}}function ac(e){(!e.__d&&(e.__d=!0)&&$t.push(e)&&!hs.__r++||ic!==ie.debounceRendering)&&((ic=ie.debounceRendering)||Wl)(hs)}function hs(){var e,t,n,r=[],s=[];for($t.sort(Uo);e=$t.shift();)e.__d&&(n=$t.length,t=v_(e,r,s)||t,n===0||$t.length>n?(Wo(r,t,s),s.length=r.length=0,t=void 0,$t.sort(Uo)):t&&ie.__c&&ie.__c(t,Mi));t&&Wo(r,t,s),hs.__r=0}function ql(e,t,n,r,s,o,i,a,c,u,d){var l,f,p,h,m,_=r&&r.__k||Mi,y=t.length;for(n.__d=c,w_(n,t,_),c=n.__d,l=0;l<y;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?Jn:_[p.__i]||Jn,p.__i=l,Ni(e,p,f,s,o,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Li(f.ref,null,p),d.push(p.ref,p.__c||h,p)),m==null&&h!=null&&(m=h),65536&p.__u||f.__k===p.__k?c=Gl(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m}function w_(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?Vr(null,s,null,null,s):Ai(s)?Vr(fr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?Vr(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=T_(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=Tn(o)),zo(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&(131072&o.__u)==0&&(o.__e==e.__d&&(e.__d=Tn(o)),zo(o,o))}function Gl(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=Gl(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function T_(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&(131072&c.__u)==0&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&s==c.key&&o===c.type)return a;a++}}return-1}function cc(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||E_.test(t)?n:n+"px"}function Cr(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||cc(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||cc(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?lc:uc,o)):e.removeEventListener(t,o?lc:uc,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function uc(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ie.event?ie.event(e):e)}}function lc(e){if(this.l)return this.l[e.type+!0](ie.event?ie.event(e):e)}function Ni(e,t,n,r,s,o,i,a,c,u){var d,l,f,p,h,m,_,y,S,x,C,R,b,T,M,v=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=ie.__b)&&d(t);e:if(typeof v=="function")try{if(y=t.props,S=(d=v.contextType)&&r[d.__c],x=d?S?S.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in v&&v.prototype.render?t.__c=l=new v(y,x):(t.__c=l=new Yr(y,x),l.constructor=v,l.render=k_),S&&S.sub(l),l.props=y,l.state||(l.state={}),l.context=x,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),v.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Tt({},l.__s)),Tt(l.__s,v.getDerivedStateFromProps(y,l.__s))),p=l.props,h=l.state,l.__v=t,f)v.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(v.getDerivedStateFromProps==null&&y!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,x),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,x)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(I){I&&(I.__=t)}),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,x),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,m)})}if(l.context=x,l.props=y,l.__P=e,l.__e=!1,R=ie.__r,b=0,"prototype"in v&&v.prototype.render){for(l.state=l.__s,l.__d=!1,R&&R(t),d=l.render(l.props,l.state,l.context),T=0;T<l._sb.length;T++)l.__h.push(l._sb[T]);l._sb=[]}else do l.__d=!1,R&&R(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++b<25);l.state=l.__s,l.getChildContext!=null&&(r=Tt(Tt({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(p,h)),ql(e,Ai(M=d!=null&&d.type===fr&&d.key==null?d.props.children:d)?M:[M],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),_&&(l.__E=l.__=null)}catch(I){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ie.__e(I,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=I_(n.__e,t,n,r,s,o,i,c,u);(d=ie.diffed)&&d(t)}function Wo(e,t,n){for(var r=0;r<n.length;r++)Li(n[r],n[++r],n[++r]);ie.__c&&ie.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){ie.__e(o,s.__v)}})}function I_(e,t,n,r,s,o,i,a,c){var u,d,l,f,p,h,m,_=n.props,y=t.props,S=t.type;if(S==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!S&&(S?p.localName===S:p.nodeType===3)){e=p,o[u]=null;break}}if(e==null){if(S===null)return document.createTextNode(y);e=s?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,y.is&&y),o=null,a=!1}if(S===null)_===y||a&&e.data===y||(e.data=y);else{if(o=o&&Ps.call(e.childNodes),_=n.props||Jn,!a&&o!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in y||Cr(e,u,null,p,s));for(u in y)p=y[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?m=p:u==="key"||a&&typeof p!="function"||_[u]===p||Cr(e,u,p,_[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),ql(e,Ai(f)?f:[f],t,n,r,s&&S!=="foreignObject",o,i,o?o[0]:n.__k&&Tn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&zl(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||S==="progress"&&!h||S==="option"&&h!==_[u])&&Cr(e,u,h,_[u],!1),u="checked",m!==void 0&&m!==e[u]&&Cr(e,u,m,_[u],!1))}return e}function Li(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ie.__e(r,n)}}function zo(e,t,n){var r,s;if(ie.unmount&&ie.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Li(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ie.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&zo(r[s],t,n||typeof e.type!="function");n||e.__e==null||zl(e.__e),e.__=e.__e=e.__d=void 0}function k_(e,t,n){return this.constructor(e,n)}function C_(e,t,n){var r,s,o,i;ie.__&&ie.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],Ni(t,e=t.__k=V(fr,null,[e]),s||Jn,Jn,t.ownerSVGElement!==void 0,s?null:t.firstChild?Ps.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,Wo(o,e,i)}Ps=Mi.slice,ie={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},Ul=0,Yr.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Tt({},this.state),typeof e=="function"&&(e=e(Tt({},n),this.props)),e&&Tt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),ac(this))},Yr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ac(this))},Yr.prototype.render=fr,$t=[],Wl=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Uo=function(e,t){return e.__v.__b-t.__v.__b},hs.__r=0;var gt,oe,io,dc,In=0,Vl=[],Xr=[],le=ie,fc=le.__b,pc=le.__r,hc=le.diffed,mc=le.__c,gc=le.unmount,_c=le.__;function Qt(e,t){le.__h&&le.__h(oe,e,In||t),In=0;var n=oe.__H||(oe.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Xr}),n.__[e]}function Bt(e){return In=1,Yl(Kl,e)}function Yl(e,t,n){var r=Qt(gt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Kl(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=oe,!oe.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};oe.u=!0;var o=oe.shouldComponentUpdate,i=oe.componentWillUpdate;oe.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},oe.shouldComponentUpdate=s}return r.__N||r.__}function R_(e,t){var n=Qt(gt++,3);!le.__s&&Oi(n.__H,t)&&(n.__=e,n.i=t,oe.__H.__h.push(n))}function Xl(e,t){var n=Qt(gt++,4);!le.__s&&Oi(n.__H,t)&&(n.__=e,n.i=t,oe.__h.push(n))}function x_(e){return In=5,pr(function(){return{current:e}},[])}function M_(e,t,n){In=6,Xl(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function pr(e,t){var n=Qt(gt++,7);return Oi(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function mn(e,t){return In=8,pr(function(){return e},t)}function A_(e){var t=oe.context[e.__c],n=Qt(gt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(oe)),t.props.value):e.__}function N_(e,t){le.useDebugValue&&le.useDebugValue(t?t(e):e)}function L_(e){var t=Qt(gt++,10),n=Bt();return t.__=e,oe.componentDidCatch||(oe.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function O_(){var e=Qt(gt++,11);if(!e.__){for(var t=oe.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function D_(){for(var e;e=Vl.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Kr),e.__H.__h.forEach(jo),e.__H.__h=[]}catch(t){e.__H.__h=[],le.__e(t,e.__v)}}le.__b=function(e){oe=null,fc&&fc(e)},le.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),_c&&_c(e,t)},le.__r=function(e){pc&&pc(e),gt=0;var t=(oe=e.__c).__H;t&&(io===oe?(t.__h=[],oe.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Xr,n.__N=n.i=void 0})):(t.__h.forEach(Kr),t.__h.forEach(jo),t.__h=[],gt=0)),io=oe},le.diffed=function(e){hc&&hc(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Vl.push(t)!==1&&dc===le.requestAnimationFrame||((dc=le.requestAnimationFrame)||P_)(D_)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Xr&&(n.__=n.__V),n.i=void 0,n.__V=Xr})),io=oe=null},le.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Kr),n.__h=n.__h.filter(function(r){return!r.__||jo(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],le.__e(r,n.__v)}}),mc&&mc(e,t)},le.unmount=function(e){gc&&gc(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Kr(r)}catch(s){t=s}}),n.__H=void 0,t&&le.__e(t,n.__v))};var yc=typeof requestAnimationFrame=="function";function P_(e){var t,n=function(){clearTimeout(r),yc&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);yc&&(t=requestAnimationFrame(n))}function Kr(e){var t=oe,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),oe=t}function jo(e){var t=oe;e.__c=e.__(),oe=t}function Oi(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Kl(e,t){return typeof t=="function"?t(e):t}const F_=Object.defineProperty({__proto__:null,useCallback:mn,useContext:A_,useDebugValue:N_,useEffect:R_,useErrorBoundary:L_,useId:O_,useImperativeHandle:M_,useLayoutEffect:Xl,useMemo:pr,useReducer:Yl,useRef:x_,useState:Bt},Symbol.toStringTag,{value:"Module"}),$_="http://www.w3.org/2000/svg";function B_(){const e=r=>se.createElementNS($_,r),t=Fe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=Fe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function H_({options:e}){const t=pr(()=>({__html:B_().outerHTML}),[]);return V("h2",{class:"dialog__header"},V("span",{class:"dialog__title"},e.formTitle),e.showBranding?V("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function U_(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function ao(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function W_({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:_,isNameRequired:y,messageLabel:S,messagePlaceholder:x,nameLabel:C,namePlaceholder:R,submitButtonLabel:b,isRequiredLabel:T}=e,[M,v]=Bt(!1),[I,F]=Bt(null),[E,A]=Bt(!1),j=u==null?void 0:u.input,[O,W]=Bt(null),w=mn(K=>{W(K),A(!1)},[]),P=mn(K=>{const Q=U_(K,{emailLabel:h,isEmailRequired:_,isNameRequired:y,messageLabel:S,nameLabel:C});return Q.length>0?F(`Please enter in the following required fields: ${Q.join(", ")}`):F(null),Q.length===0},[h,_,y,S,C]),N=mn(async K=>{v(!0);try{if(K.preventDefault(),!(K.target instanceof HTMLFormElement))return;const Q=new FormData(K.target),ye=await(u&&E?u.value():void 0),Se={name:ao(Q,"name"),email:ao(Q,"email"),message:ao(Q,"message"),attachments:ye?[ye]:void 0};if(!P(Se))return;try{const ge=await s({name:Se.name,email:Se.email,message:Se.message,source:l_,tags:d},{attachments:Se.attachments});o(Se,ge)}catch(ge){Gr&&g.error(ge),F(ge),i(ge)}}finally{v(!1)}},[u&&E,o,i]);return V("form",{class:"form",onSubmit:N},j&&E?V(j,{onError:w}):null,V("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:M},V("div",{class:"form__top"},I?V("div",{class:"form__error-container"},I):null,c?V("label",{for:"name",class:"form__label"},V(co,{label:C,isRequiredLabel:T,isRequired:y}),V("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:R,required:y,type:"text"})):V("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?V("label",{for:"email",class:"form__label"},V(co,{label:h,isRequiredLabel:T,isRequired:_}),V("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:_,type:"email"})):V("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),V("label",{for:"message",class:"form__label"},V(co,{label:S,isRequiredLabel:T,isRequired:!0}),V("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:x,required:!0,rows:5})),j?V("label",{for:"screenshot",class:"form__label"},V("button",{class:"btn btn--default",disabled:M,type:"button",onClick:()=>{W(null),A(K=>!K)}},E?f:l),O?V("div",{class:"form__error-container"},O.message):null):null),V("div",{class:"btn-group"},V("button",{class:"btn btn--primary",disabled:M,type:"submit"},b),V("button",{class:"btn btn--default",disabled:M,type:"button",onClick:r},p))))}function co({label:e,isRequired:t,isRequiredLabel:n}){return V("span",{class:"form__label__text"},e,t&&V("span",{class:"form__label__text--required"},n))}const Rr=16,Sc=17,z_="http://www.w3.org/2000/svg";function j_(){const e=c=>Ye.document.createElementNS(z_,c),t=Fe(e("svg"),{width:`${Rr}`,height:`${Sc}`,viewBox:`0 0 ${Rr} ${Sc}`,fill:"inherit"}),n=Fe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Fe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=Fe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=Fe(e("clipPath"),{id:"clip0_57_156"}),a=Fe(e("rect"),{width:`${Rr}`,height:`${Rr}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function q_({open:e,onFormSubmitted:t,...n}){const r=n.options,s=pr(()=>({__html:j_().outerHTML}),[]),[o,i]=Bt(null),a=mn(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=mn((u,d)=>{n.onSubmitSuccess(u,d),i(setTimeout(()=>{t(),i(null)},f_))},[t]);return V(fr,null,o?V("div",{class:"success__position",onClick:a},V("div",{class:"success__content"},r.successMessageText,V("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):V("dialog",{class:"dialog",onClick:r.onFormClose,open:e},V("div",{class:"dialog__position"},V("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},V(H_,{options:r}),V(W_,{...n,onSubmitSuccess:c})))))}const G_=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,V_=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,Y_=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,X_=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,K_=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function J_(e){const t=se.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${G_}
${V_}
${Y_}
${X_}
${K_}
`,e&&t.setAttribute("nonce",e),t}function Z_(){const e=X().getUser(),t=ve().getUser(),n=hi().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const Q_=(()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=Z_(),a=se.createElement("div"),c=J_(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){a.remove(),c.remove(),se.body.style.overflow=u},open(){var p,h;f(!0),(p=e.onFormOpen)==null||p.call(e),(h=L())==null||h.emit("openFeedbackWidget"),u=se.body.style.overflow,se.body.style.overflow="hidden"},close(){f(!1),se.body.style.overflow=u}},l=t==null?void 0:t.createInput({h:V,hooks:F_,dialog:d,options:e}),f=p=>{C_(V(q_,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&(i==null?void 0:i[o.name])||"",defaultEmail:o&&(i==null?void 0:i[o.email])||"",onFormClose:()=>{var h;f(!1),(h=e.onFormClose)==null||h.call(e)},onSubmit:n,onSubmitSuccess:(h,m)=>{var _;f(!1),(_=e.onSubmitSuccess)==null||_.call(e,h,m)},onSubmitError:h=>{var m;(m=e.onSubmitError)==null||m.call(e,h)},onFormSubmitted:()=>{var h;(h=e.onFormSubmitted)==null||h.call(e)},open:p}),a)};return d}}));function ey({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function ty(e){const t=se.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function ny({h:e}){return function({action:n,setAction:r}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},"Highlight"),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},"Hide")))}}function ry({hooks:e}){function t(){const[n,r]=e.useState(Ye.devicePixelRatio??1);return e.useEffect(()=>{const s=()=>{r(Ye.devicePixelRatio)},o=matchMedia(`(resolution: ${Ye.devicePixelRatio}dppx)`);return o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:s,onAfterScreenshot:o,onError:i}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await jn.mediaDevices.getDisplayMedia({video:{width:Ye.innerWidth*a,height:Ye.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=se.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{s(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),o()})().catch(i)},[])}}function sy(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Et(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function uo(e,t){Et(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function lo(e,t,n){Et(e,{alpha:!0},(r,s)=>{n.length&&(s.fillStyle="rgba(0, 0, 0, 0.25)",s.fillRect(0,0,r.width,r.height)),n.forEach(o=>{sy(o,s,t)})})}function oy({h:e,hooks:t,outputBuffer:n,dialog:r,options:s}){const o=ry({hooks:t}),i=ny({h:e}),a=ey({h:e}),c={__html:ty(s.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[f,p]=t.useState("highlight"),[h,m]=t.useState([]),_=t.useRef(null),y=t.useRef(null),S=t.useRef(null),x=t.useRef(null),[C,R]=t.useState(1),b=t.useMemo(()=>{const E=se.getElementById(s.id);if(!E)return"white";const A=getComputedStyle(E);return A.getPropertyValue("--button-primary-background")||A.getPropertyValue("--accent-background")},[s.id]);t.useLayoutEffect(()=>{const E=()=>{const A=_.current;A&&(Et(l.canvas,{alpha:!1},j=>{const O=Math.min(A.clientWidth/j.width,A.clientHeight/j.height);R(O)}),(A.clientHeight===0||A.clientWidth===0)&&setTimeout(E,0))};return E(),Ye.addEventListener("resize",E),()=>{Ye.removeEventListener("resize",E)}},[l]);const T=t.useCallback((E,A)=>{Et(E,{alpha:!0},(j,O)=>{O.scale(A,A),j.width=l.canvas.width,j.height=l.canvas.height})},[l]);t.useEffect(()=>{T(y.current,l.dpi),uo(y.current,l.canvas)},[l]),t.useEffect(()=>{T(S.current,l.dpi),Et(S.current,{alpha:!0},(E,A)=>{A.clearRect(0,0,E.width,E.height)}),lo(S.current,b,h)},[h,b]),t.useEffect(()=>{T(n,l.dpi),uo(n,l.canvas),Et(se.createElement("canvas"),{alpha:!0},(E,A)=>{A.scale(l.dpi,l.dpi),E.width=l.canvas.width,E.height=l.canvas.height,lo(E,b,h),uo(n,E)})},[h,l,b]);const M=E=>{if(!f||!x.current)return;const A=x.current.getBoundingClientRect(),j={type:f,x:E.offsetX/C,y:E.offsetY/C},O=(P,N)=>{const K=(N.clientX-A.x)/C,Q=(N.clientY-A.y)/C;return{type:P.type,x:Math.min(P.x,K),y:Math.min(P.y,Q),w:Math.abs(K-P.x),h:Math.abs(Q-P.y)}},W=P=>{Et(S.current,{alpha:!0},(N,K)=>{K.clearRect(0,0,N.width,N.height)}),lo(S.current,b,[...h,O(j,P)])},w=P=>{const N=O(j,P);N.w*C>=1&&N.h*C>=1&&m(K=>[...K,N]),se.removeEventListener("mousemove",W),se.removeEventListener("mouseup",w)};se.addEventListener("mousemove",W),se.addEventListener("mouseup",w)},v=t.useCallback(E=>A=>{A.preventDefault(),A.stopPropagation(),m(j=>{const O=[...j];return O.splice(E,1),O})},[]),I={width:`${l.canvas.width*C}px`,height:`${l.canvas.height*C}px`},F=E=>{E.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:y,id:"background",style:I}),e("canvas",{ref:S,id:"foreground",style:I}),e("div",{ref:x,onMouseDown:M,style:I},h.map((E,A)=>e("div",{key:A,class:"editor__rect",style:{top:`${E.y*C}px`,left:`${E.x*C}px`,width:`${E.w*C}px`,height:`${E.h*C}px`}},e("button",{"aria-label":"Remove",onClick:v(A),onMouseDown:F,onMouseUp:F,type:"button"},e(a,null))))))),e(i,{action:f,setAction:p}))};return function({onError:f}){const[p,h]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,_)=>{Et(se.createElement("canvas"),{alpha:!1},(y,S)=>{S.scale(_,_),y.width=m.videoWidth,y.height=m.videoHeight,S.drawImage(m,0,0,y.width,y.height),h({canvas:y,dpi:_})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",f(m)},[])}),p?e(d,{screenshot:p}):e("div",null)}}const iy=(()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=se.createElement("canvas");return{input:oy({h:e,hooks:t,outputBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}})),D=U;let qo=0;function Jl(){return qo>0}function ay(){qo++,setTimeout(()=>{qo--})}function kn(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(pi(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>kn(i,t));return e.apply(this,o)}catch(o){throw ay(),Ze(i=>{i.addEventProcessor(a=>(t.mechanism&&(Co(a,void 0),Rt(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),bn(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Lu(r,e),Le(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Di(){const e=Xt(),{referrer:t}=D.document||{},{userAgent:n}=D.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const cy={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},bc=D;async function uy(e,t){const n=cy[e],r=bc.Sentry=bc.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=ly(n),i=D.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="strict-origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=D.document.currentScript,u=D.document.body||D.document.head||(c==null?void 0:c.parentElement);if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function ly(e){var r;const t=L(),n=((r=t==null?void 0:t.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${It}/${e}.min.js`,n).toString()}const YI=Hl({lazyLoadIntegration:uy}),XI=Hl({getModalIntegration:()=>Q_,getScreenshotIntegration:()=>iy});function Fn(e,t,n,r){Po({level:e,message:t,attributes:n,severityNumber:r})}function dy(e,t){Fn("trace",e,t)}function fy(e,t){Fn("debug",e,t)}function py(e,t){Fn("info",e,t)}function hy(e,t){Fn("warn",e,t)}function my(e,t){Fn("error",e,t)}function gy(e,t){Fn("fatal",e,t)}const KI=Object.freeze(Object.defineProperty({__proto__:null,debug:fy,error:my,fatal:gy,fmt:dm,info:py,trace:dy,warn:hy},Symbol.toStringTag,{value:"Module"}));function Pi(e,t){const n=Fi(e,t),r={type:Ey(t),value:vy(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function _y(e,t,n,r){const s=L(),o=s==null?void 0:s.getOptions().normalizeDepth,i=Cy(t),a={__serialized__:nl(t,o)};if(i)return{exception:{values:[Pi(e,i)]},extra:a};const c={exception:{values:[{type:xs(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Iy(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Fi(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function fo(e,t){return{exception:{values:[Pi(e,t)]}}}function Fi(e,t){const n=t.stacktrace||t.stack||"",r=Sy(t),s=by(t);try{return e(n,r,s)}catch{}return[]}const yy=/Minified React error #\d+;/i;function Sy(e){return e&&yy.test(e.message)?1:0}function by(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Zl(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Ey(e){const t=e==null?void 0:e.name;return!t&&Zl(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vy(e){const t=e==null?void 0:e.message;return Zl(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function wy(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=$i(e,t,s,r);return Rt(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),ht(o)}function Ty(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,i=Go(e,t,o,s);return i.level=n,r!=null&&r.event_id&&(i.event_id=r.event_id),ht(i)}function $i(e,t,n,r,s){let o;if(xu(t)&&t.error)return fo(e,t.error);if(ha(t)||Wf(t)){const i=t;if("stack"in t)o=fo(e,t);else{const a=i.name||(ha(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Go(e,c,n,r),Co(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return kt(t)?fo(e,t):lt(t)||xs(t)?(o=_y(e,t,n,s),Rt(o,{synthetic:!0}),o):(o=Go(e,t,n,r),Co(o,`${t}`),Rt(o,{synthetic:!0}),o)}function Go(e,t,n,r){const s={};if(r&&n){const o=Fi(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),Rt(s,{synthetic:!0})}if(Rs(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Iy(e,{isUnhandledRejection:t}){const n=Xf(e),r=t?"promise rejection":"exception";return xu(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:xs(e)?`Event \`${ky(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function ky(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Cy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const Ry=5e3;class xy extends Hh{constructor(t){const n=My(t),r=D.SENTRY_SDK_SOURCE||Vg();hm(n,"browser",["browser"],r),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:i,_experiments:a}=this._options,c=i??(a==null?void 0:a.enableLogs);D.document&&(o||c)&&D.document.addEventListener("visibilitychange",()=>{D.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),c&&qr(this))}),c&&(this.on("flush",()=>{qr(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{qr(this)},Ry)})),s&&(this.on("postprocessEvent",fm),this.on("beforeSendSession",pm))}eventFromException(t,n){return wy(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Ty(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function My(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=D.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Cn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,H=U,Ay=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",$n=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=Ay(t.value,n),e(t)))}},Ny=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,hr=(e=!0)=>{var n,r;const t=(r=(n=H.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Bn=()=>{const e=hr();return(e==null?void 0:e.activationStart)??0},Hn=(e,t=-1)=>{var o,i;const n=hr();let r="navigate";return n&&((o=H.document)!=null&&o.prerendering||Bn()>0?r="prerender":(i=H.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:Ny(),navigationType:r}},po=new WeakMap;function Bi(e,t){return po.get(e)||po.set(e,new t),po.get(e)}class ms{constructor(){ms.prototype.__init.call(this),ms.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const en=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Fs=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let qn=-1;const Ly=()=>{var e,t;return((e=H.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=H.document)!=null&&t.prerendering)?0:1/0},gs=e=>{H.document.visibilityState==="hidden"&&qn>-1&&(qn=e.type==="visibilitychange"?e.timeStamp:0,Dy())},Oy=()=>{addEventListener("visibilitychange",gs,!0),addEventListener("prerenderingchange",gs,!0)},Dy=()=>{removeEventListener("visibilitychange",gs,!0),removeEventListener("prerenderingchange",gs,!0)},$s=()=>{var e;if(H.document&&qn<0){const t=Bn();qn=(H.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??Ly(),Oy()}return{get firstHiddenTime(){return qn}}},mr=e=>{var t;(t=H.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},Py=[1800,3e3],Fy=(e,t={})=>{mr(()=>{const n=$s(),r=Hn("FCP");let s;const i=en("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Bn(),0),r.entries.push(c),s(!0)))});i&&(s=$n(e,r,Py,t.reportAllChanges))})},$y=[.1,.25],By=(e,t={})=>{Fy(Fs(()=>{var a,c;const n=Hn("CLS",0);let r;const s=Bi(t,ms),o=u=>{for(const d of u)s._processEntry(d);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=en("layout-shift",o);i&&(r=$n(e,n,$y,t.reportAllChanges),(a=H.document)==null||a.addEventListener("visibilitychange",()=>{var u;((u=H.document)==null?void 0:u.visibilityState)==="hidden"&&(o(i.takeRecords()),r(!0))}),(c=H==null?void 0:H.setTimeout)==null||c.call(H,r))}))},Bs=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=H.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};H.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Hy=[100,300],Uy=(e,t={})=>{mr(()=>{const n=$s(),r=Hn("FID");let s;const o=c=>{c.startTime<n.firstHiddenTime&&(r.value=c.processingStart-c.startTime,r.entries.push(c),s(!0))},i=c=>{c.forEach(o)},a=en("first-input",i);s=$n(e,r,Hy,t.reportAllChanges),a&&Bs(Fs(()=>{i(a.takeRecords()),a.disconnect()}))})};let Ql=0,ho=1/0,xr=0;const Wy=e=>{e.forEach(t=>{t.interactionId&&(ho=Math.min(ho,t.interactionId),xr=Math.max(xr,t.interactionId),Ql=xr?(xr-ho)/7+1:0)})};let Vo;const ed=()=>Vo?Ql:performance.interactionCount||0,zy=()=>{"interactionCount"in performance||Vo||(Vo=en("event",Wy,{type:"event",buffered:!0,durationThreshold:0}))},mo=10;let td=0;const jy=()=>ed()-td;class _s{constructor(){_s.prototype.__init.call(this),_s.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){td=ed(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(jy()/50));return this._longestInteractionList[t]}_processEntry(t){var s,o;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<mo||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,a)=>a._latency-i._latency),this._longestInteractionList.length>mo){const i=this._longestInteractionList.splice(mo);for(const a of i)this._longestInteractionMap.delete(a.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const nd=e=>{var n;const t=H.requestIdleCallback||H.setTimeout;((n=H.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Fs(e),t(e),Bs(e))},qy=[200,500],Gy=40,Vy=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&mr(()=>{zy();const n=Hn("INP");let r;const s=Bi(t,_s),o=a=>{nd(()=>{for(const u of a)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},i=en("event",o,{durationThreshold:t.durationThreshold??Gy});r=$n(e,n,qy,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Bs(()=>{o(i.takeRecords()),r(!0)}))})};class Yy{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const Xy=[2500,4e3],Ky=(e,t={})=>{mr(()=>{const n=$s(),r=Hn("LCP");let s;const o=Bi(t,Yy),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Bn(),0),r.entries=[u],s())},a=en("largest-contentful-paint",i);if(a){s=$n(e,r,Xy,t.reportAllChanges);const c=Fs(()=>{i(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])H.document&&addEventListener(u,()=>nd(c),{capture:!0,once:!0})}})},Jy=[800,1800],Yo=e=>{var t,n;(t=H.document)!=null&&t.prerendering?mr(()=>Yo(e)):((n=H.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Yo(e),!0):setTimeout(e)},Zy=(e,t={})=>{const n=Hn("TTFB"),r=$n(e,n,Jy,t.reportAllChanges);Yo(()=>{const s=hr();s&&(n.value=Math.max(s.responseStart-Bn(),0),n.entries=[s],r(!0))})},Gn={},ys={};let rd,sd,od,id,ad;function Hi(e,t=!1){return gr("cls",e,eS,rd,t)}function Ui(e,t=!1){return gr("lcp",e,nS,od,t)}function cd(e){return gr("fid",e,tS,sd)}function Qy(e){return gr("ttfb",e,rS,id)}function ud(e){return gr("inp",e,sS,ad)}function Yt(e,t){return ld(e,t),ys[e]||(oS(e),ys[e]=!0),dd(e,t)}function Un(e,t){const n=Gn[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Cn&&g.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${ut(r)}
Error:`,s)}}function eS(){return By(e=>{Un("cls",{metric:e}),rd=e},{reportAllChanges:!0})}function tS(){return Uy(e=>{Un("fid",{metric:e}),sd=e})}function nS(){return Ky(e=>{Un("lcp",{metric:e}),od=e},{reportAllChanges:!0})}function rS(){return Zy(e=>{Un("ttfb",{metric:e}),id=e})}function sS(){return Vy(e=>{Un("inp",{metric:e}),ad=e})}function gr(e,t,n,r,s=!1){ld(e,t);let o;return ys[e]||(o=n(),ys[e]=!0),r&&t({metric:r}),dd(e,t,s?o:void 0)}function oS(e){const t={};e==="event"&&(t.durationThreshold=0),en(e,n=>{Un(e,{entries:n})},t)}function ld(e,t){Gn[e]=Gn[e]||[],Gn[e].push(t)}function dd(e,t,n){return()=>{n&&n();const r=Gn[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function iS(e){return"duration"in e}function go(e){return typeof e=="number"&&isFinite(e)}function _t(e,t,n,{...r}){const s=q(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ns(e,()=>{const o=Pn({startTime:t,...r});return o&&o.end(n),o})}function Wi(e){var _;const t=L();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u==null?void 0:u.getReplayId(),l=X(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const m={release:i,environment:a,user:p||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(_=H.navigator)==null?void 0:_.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Pn({name:n,attributes:m,startTime:o,experimental:{standalone:!0}})}function Hs(){return H.addEventListener&&H.performance}function ue(e){return e/1e3}function fd(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function pd(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function hd(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}Bs(()=>{s("pagehide")});const o=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),o==null||o(),i==null||i())}),i=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,i==null||i()})}function aS(e){let t=0,n;if(!pd("layout-shift"))return;const r=Hi(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);hd(e,(s,o)=>{cS(t,n,o,s),r()})}function cS(e,t,n,r){var u;Cn&&g.log(`Sending CLS span (${e})`);const s=ue((ke()||0)+((t==null?void 0:t.startTime)||0)),o=X().getScopeData().transactionName,i=t?je((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[de]:"auto.http.browser.cls",[qe]:"ui.webvital.cls",[Dn]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,l)=>{a[`cls.source.${l+1}`]=je(d.node)});const c=Wi({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("cls",{[cr]:"",[ur]:e}),c.end(s))}function uS(e){let t=0,n;if(!pd("largest-contentful-paint"))return;const r=Ui(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);hd(e,(s,o)=>{lS(t,n,o,s),r()})}function lS(e,t,n,r){Cn&&g.log(`Sending LCP span (${e})`);const s=ue((ke()||0)+((t==null?void 0:t.startTime)||0)),o=X().getScopeData().transactionName,i=t?je(t.element):"Largest contentful paint",a={[de]:"auto.http.browser.lcp",[qe]:"ui.webvital.lcp",[Dn]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=je(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Wi({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[cr]:"millisecond",[ur]:e}),c.end(s))}const dS=2147483647;let Ec=0,Te={},Ne,un;function fS({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Hs();if(r&&ke()){r.mark&&H.performance.mark("sentry-tracing-init");const s=yS(),o=t?uS(n):_S(),i=SS(),a=e?aS(n):gS();return()=>{s(),o==null||o(),i(),a==null||a()}}return()=>{}}function pS(){Yt("longtask",({entries:e})=>{const t=we();if(!t)return;const{op:n,start_timestamp:r}=q(t);for(const s of e){const o=ue(ke()+s.startTime),i=ue(s.duration);n==="navigation"&&r&&o<r||_t(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[de]:"auto.ui.browser.metrics"}})}})}function hS(){new PerformanceObserver(t=>{const n=we();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=ue(ke()+r.startTime),{start_timestamp:o,op:i}=q(n);if(i==="navigation"&&o&&s<o)continue;const a=ue(r.duration),c={[de]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),_t(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function mS(){Yt("event",({entries:e})=>{const t=we();if(t){for(const n of e)if(n.name==="click"){const r=ue(ke()+n.startTime),s=ue(n.duration),o={name:je(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[de]:"auto.ui.browser.metrics"}},i=Nu(n.target);i&&(o.attributes["ui.component_name"]=i),_t(t,r,r+s,o)}}})}function gS(){return Hi(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Te.cls={value:e.value,unit:""},un=t)},!0)}function _S(){return Ui(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Te.lcp={value:e.value,unit:"millisecond"},Ne=t)},!0)}function yS(){return cd(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=ue(ke()),r=ue(t.startTime);Te.fid={value:e.value,unit:"millisecond"},Te["mark.fid"]={value:n+r,unit:"second"}})}function SS(){return Qy(({metric:e})=>{e.entries[e.entries.length-1]&&(Te.ttfb={value:e.value,unit:"millisecond"})})}function bS(e,t){const n=Hs(),r=ke();if(!(n!=null&&n.getEntries)||!r)return;const s=ue(r),o=n.getEntries(),{op:i,start_timestamp:a}=q(e);if(o.slice(Ec).forEach(c=>{const u=ue(c.startTime),d=ue(Math.max(0,c.duration));if(!(i==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{wS(e,c,s);break}case"mark":case"paint":case"measure":{ES(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=$s(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Te.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Te.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{kS(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),Ec=Math.max(o.length-1,0),CS(e),i==="pageload"){xS(Te);const c=Te["mark.fid"];c&&Te.fid&&(_t(e,c.value,c.value+ue(Te.fid.value),{name:"first input delay",op:"ui.action",attributes:{[de]:"auto.ui.browser.metrics"}}),delete Te["mark.fid"]),t.recordClsOnPageloadSpan||delete Te.cls,t.recordLcpOnPageloadSpan||delete Te.lcp,Object.entries(Te).forEach(([u,d])=>{Zp(u,d.value,d.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Bn()),RS(e,t)}Ne=void 0,un=void 0,Te={}}function ES(e,t,n,r,s,o){if(["mark","measure"].includes(t.entryType)&&Ke(t.name,o))return;const i=hr(!1),a=ue(i?i.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[de]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),vS(l,t),c<=d&&_t(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function vS(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&gn(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(gn(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function wS(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Mr(e,t,r,n)}),Mr(e,t,"secureConnection",n,"TLS/SSL"),Mr(e,t,"fetch",n,"cache"),Mr(e,t,"domainLookup",n,"DNS"),IS(e,t,n)}function Mr(e,t,n,r,s=n){const o=TS(n),i=t[o],a=t[`${n}Start`];!a||!i||_t(e,r+ue(a),r+ue(i),{op:`browser.${s}`,name:t.name,attributes:{[de]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function TS(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function IS(e,t,n){const r=n+ue(t.requestStart),s=n+ue(t.responseEnd),o=n+ue(t.responseStart);t.responseEnd&&(_t(e,r,s,{op:"browser.request",name:t.name,attributes:{[de]:"auto.ui.browser.metrics"}}),_t(e,o,s,{op:"browser.response",name:t.name,attributes:{[de]:"auto.ui.browser.metrics"}}))}function kS(e,t,n,r,s,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i!=null&&i.includes(a))return;const c=jt(n),u={[de]:"auto.resource.browser.metrics"};_o(u,t,"transferSize","http.response_transfer_size"),_o(u,t,"encodedBodySize","http.response_content_length"),_o(u,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(u["http.response_delivery_type"]=d);const l=t.renderBlockingStatus;if(l&&(u["resource.render_blocking_status"]=l),c.protocol&&(u["url.scheme"]=c.protocol.split(":").pop()),c.host&&(u["server.address"]=c.host),u["url.same_origin"]=n.includes(H.location.origin),t.nextHopProtocol!=null){const{name:h,version:m}=fd(t.nextHopProtocol);u["network.protocol.name"]=h,u["network.protocol.version"]=m}const f=o+r,p=f+s;_t(e,f,p,{name:n.replace(H.location.origin,""),op:a,attributes:u})}function CS(e){const t=H.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),go(n.rtt)&&(Te["connection.rtt"]={value:n.rtt,unit:"millisecond"})),go(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),go(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function RS(e,t){Ne&&t.recordLcpOnPageloadSpan&&(Ne.element&&e.setAttribute("lcp.element",je(Ne.element)),Ne.id&&e.setAttribute("lcp.id",Ne.id),Ne.url&&e.setAttribute("lcp.url",Ne.url.trim().slice(0,200)),Ne.loadTime!=null&&e.setAttribute("lcp.loadTime",Ne.loadTime),Ne.renderTime!=null&&e.setAttribute("lcp.renderTime",Ne.renderTime),e.setAttribute("lcp.size",Ne.size)),un!=null&&un.sources&&t.recordClsOnPageloadSpan&&un.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,je(n.node)))}function _o(e,t,n,r){const s=t[n];s!=null&&s<dS&&(e[r]=s)}function xS(e){const t=hr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function MS(){return Hs()&&ke()?Yt("element",AS):()=>{}}const AS=({entries:e})=>{const t=we(),n=t?Ee(t):void 0,r=n?q(n).description:X().getScopeData().transactionName;e.forEach(s=>{var p,h;const o=s;if(!o.identifier)return;const i=o.name,a=o.renderTime,c=o.loadTime,[u,d]=c?[ue(c),"load-time"]:a?[ue(a),"render-time"]:[me(),"entry-emission"],l=i==="image-paint"?ue(Math.max(0,(a??0)-(c??0))):0,f={[de]:"auto.ui.browser.elementtiming",[qe]:"ui.elementtiming",[We]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":o.id,"element.type":((h=(p=o.element)==null?void 0:p.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":i};vi({name:`element[${o.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},m=>{m.end(u+l)})})},NS=1e3;let vc,Xo,Ko;function md(e){Nt("dom",e),Lt("dom",LS)}function LS(){if(!H.document)return;const e=ze.bind(null,"dom"),t=wc(e,!0);H.document.addEventListener("click",t,!1),H.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,i;const s=(o=H[n])==null?void 0:o.prototype;(i=s==null?void 0:s.hasOwnProperty)!=null&&i.call(s,"addEventListener")&&(xe(s,"addEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},f=l[c]=l[c]||{refCount:0};if(!f.handler){const p=wc(e);f.handler=p,a.call(this,c,p,d)}f.refCount++}catch{}return a.call(this,c,u,d)}}),xe(s,"removeEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__||{},f=l[c];f&&(f.refCount--,f.refCount<=0&&(a.call(this,c,f.handler,d),f.handler=void 0,delete l[c]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,d)}}))})}function OS(e){if(e.type!==Xo)return!1;try{if(!e.target||e.target._sentryId!==Ko)return!1}catch{}return!0}function DS(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function wc(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=PS(n);if(DS(n.type,r))return;Le(n,"_sentryCaptured",!0),r&&!r._sentryId&&Le(r,"_sentryId",Me());const s=n.type==="keypress"?"input":n.type;OS(n)||(e({event:n,name:s,global:t}),Xo=n.type,Ko=r?r._sentryId:void 0),clearTimeout(vc),vc=H.setTimeout(()=>{Ko=void 0,Xo=void 0},NS)}}function PS(e){try{return e.target}catch{return null}}let Ar;function Us(e){const t="history";Nt(t,e),Lt(t,FS)}function FS(){if(H.addEventListener("popstate",()=>{const t=H.location.href,n=Ar;if(Ar=t,n===t)return;ze("history",{from:n,to:t})}),!$g())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=Ar,o=$S(String(r));if(Ar=o,s===o)return t.apply(this,n);ze("history",{from:s,to:o})}return t.apply(this,n)}}xe(H.history,"pushState",e),xe(H.history,"replaceState",e)}function $S(e){try{return new URL(e,H.location.origin).toString()}catch{return e}}const Jr={};function zi(e){const t=Jr[e];if(t)return t;let n=H[e];if($o(n))return Jr[e]=n.bind(H);const r=H.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Cn&&g.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Jr[e]=n.bind(H))}function Tc(e){Jr[e]=void 0}function _r(...e){return zi("setTimeout")(...e)}const at="__sentry_xhr_v3__";function ji(e){Nt("xhr",e),Lt("xhr",BS)}function BS(){if(!H.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=me()*1e3,i=Xe(r[0])?r[0].toUpperCase():void 0,a=HS(r[1]);if(!i||!a)return t.apply(n,r);n[at]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[at];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:me()*1e3,startTimestamp:o,xhr:n,virtualError:s};ze("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[at];return h&&Xe(f)&&Xe(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[at];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:me()*1e3,xhr:n};return ze("xhr",o),t.apply(n,r)}})}function HS(e){if(Xe(e))return e;try{return e.toString()}catch{}}function gd(e){return new URLSearchParams(e).toString()}function Ss(e,t=g){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[gd(e)];if(!e)return[void 0]}catch(n){return Cn&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Cn&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function qi(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const yo=[],Zr=new Map,US=60;function WS(){if(Hs()&&ke()){const t=zS();return()=>{t()}}return()=>{}}const Ic={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function zS(){return ud(jS)}const jS=({metric:e})=>{if(e.value==null)return;const t=ue(e.value);if(t>US)return;const n=e.entries.find(h=>h.duration===e.value&&Ic[h.name]);if(!n)return;const{interactionId:r}=n,s=Ic[n.name],o=ue(ke()+n.startTime),i=we(),a=i?Ee(i):void 0,u=(r!=null?Zr.get(r):void 0)||a,d=u?q(u).description:X().getScopeData().transactionName,l=je(n.target),f={[de]:"auto.http.browser.inp",[qe]:`ui.interaction.${s}`,[Dn]:n.duration},p=Wi({name:l,transaction:d,attributes:f,startTime:o});p&&(p.addEvent("inp",{[cr]:"millisecond",[ur]:e.value}),p.end(o+t))};function qS(){const e=({entries:t})=>{const n=we(),r=n&&Ee(n);t.forEach(s=>{if(!iS(s)||!r)return;const o=s.interactionId;if(o!=null&&!Zr.has(o)){if(yo.length>10){const i=yo.shift();Zr.delete(i)}yo.push(o),Zr.set(o,r)}})};Yt("event",e),Yt("first-input",e)}function _d(e,t=zi("fetch")){let n=0,r=0;function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return Tc("fetch"),ds("No fetch implementation available");try{return t(e.url,a).then(c=>(n-=i,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Tc("fetch"),n-=i,r--,ds(c)}}return rm(e,s)}const GS=10,VS=20,YS=30,XS=40,KS=50;function Rn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?tt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const JS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ZS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,QS=/\((\S*)(?::(\d+))(?::(\d+))\)/,eb=e=>{const t=JS.exec(e);if(t){const[,r,s,o]=t;return Rn(r,tt,+s,+o)}const n=ZS.exec(e);if(n){if(n[2]&&n[2].indexOf("eval")===0){const i=QS.exec(n[2]);i&&(n[2]=i[1],n[3]=i[2],n[4]=i[3])}const[s,o]=yd(n[1]||tt,n[2]);return Rn(o,s,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},tb=[YS,eb],nb=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,rb=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,sb=e=>{const t=nb.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=rb.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||tt;return[s,r]=yd(s,r),Rn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},ob=[KS,sb],ib=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ab=e=>{const t=ib.exec(e);return t?Rn(t[2],t[1]||tt,+t[3],t[4]?+t[4]:void 0):void 0},JI=[XS,ab],cb=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ub=e=>{const t=cb.exec(e);return t?Rn(t[2],t[3]||tt,+t[1]):void 0},ZI=[GS,ub],lb=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,db=e=>{const t=lb.exec(e);return t?Rn(t[5],t[3]||t[4]||tt,+t[1],+t[2]):void 0},QI=[VS,db],fb=[tb,ob],pb=Iu(...fb),yd=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:tt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function e1(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Zt(r)}},o=hb(e);return St(s,[o])}function hb(e){return[{type:"user_report"},e]}const Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Nr=1024,mb="Breadcrumbs",gb=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:mb,setup(n){t.console&&Ci(bb(n)),t.dom&&md(Sb(n,t.dom)),t.xhr&&ji(Eb(n)),t.fetch&&xi(vb(n)),t.history&&Us(wb(n)),t.sentry&&n.on("beforeSendEvent",yb(n))}}}),_b=gb;function yb(e){return function(n){L()===e&&mt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ft(n)},{event:n})}}function Sb(e,t){return function(r){if(L()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>Nr&&(Y&&g.warn(`\`dom.maxStringLength\` cannot exceed ${Nr}, but a value of ${a} was configured. Sentry will use ${Nr} instead.`),a=Nr),typeof i=="string"&&(i=[i]);try{const u=r.event,d=Tb(u)?u.target:u;s=je(d,{keyAttrs:i,maxStringLength:a}),o=Nu(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),mt(c,{event:r.event,name:r.name,global:r.global})}}function bb(e){return function(n){if(L()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Ri(n.level),message:ss(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${ss(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;mt(r,{input:n.args,level:n.level})}}function Eb(e){return function(n){if(L()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[at];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},f={category:"xhr",data:d,type:"http",level:Dl(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),mt(f,l)}}function vb(e){return function(n){if(L()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),mt(a,i)}else{const o=n.response,i={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:i,type:"http",level:Dl(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),mt(c,a)}}}function wb(e){return function(n){if(L()!==e)return;let r=n.from,s=n.to;const o=jt(D.location.href);let i=r?jt(r):void 0;const a=jt(s);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),mt({category:"navigation",data:{from:r,to:s}})}}function Tb(e){return!!e&&!!e.target}const Ib=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kb="BrowserApiErrors",Cb=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:kb,setupOnce(){t.setTimeout&&xe(D,"setTimeout",kc),t.setInterval&&xe(D,"setInterval",kc),t.requestAnimationFrame&&xe(D,"requestAnimationFrame",xb),t.XMLHttpRequest&&"XMLHttpRequest"in D&&xe(XMLHttpRequest.prototype,"send",Mb);const n=t.eventTarget;n&&(Array.isArray(n)?n:Ib).forEach(s=>Ab(s,t))}}}),Rb=Cb;function kc(e){return function(...t){const n=t[0];return t[0]=kn(n,{mechanism:{data:{function:ut(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function xb(e){return function(t){return e.apply(this,[kn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ut(e)},handled:!1,type:"instrument"}})])}}function Mb(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&xe(n,s,function(o){const i={mechanism:{data:{function:s,handler:ut(o)},handled:!1,type:"instrument"}},a=pi(o);return a&&(i.mechanism.data.handler=ut(a)),kn(o,i)})}),e.apply(this,t)}}function Ab(e,t){var s,o;const r=(s=D[e])==null?void 0:s.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(xe(r,"addEventListener",function(i){return function(a,c,u){try{Nb(c)&&(c.handleEvent=kn(c.handleEvent,{mechanism:{data:{function:"handleEvent",handler:ut(c),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&Lb(this,a,c),i.apply(this,[a,kn(c,{mechanism:{data:{function:"addEventListener",handler:ut(c),target:e},handled:!1,type:"instrument"}}),u])}}),xe(r,"removeEventListener",function(i){return function(a,c,u){try{const d=c.__sentry_wrapped__;d&&i.call(this,a,d,u)}catch{}return i.call(this,a,c,u)}}))}function Nb(e){return typeof e.handleEvent=="function"}function Lb(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const Ob=()=>({name:"BrowserSession",setupOnce(){if(typeof D.document>"u"){Y&&g.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Oa({ignoreDuration:!0}),Da(),Us(({from:e,to:t})=>{e!==void 0&&e!==t&&(Oa({ignoreDuration:!0}),Da())})}}),Db="GlobalHandlers",Pb=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Db,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&($b(n),Cc("onerror")),t.onunhandledrejection&&(Bb(n),Cc("onunhandledrejection"))}}}),Fb=Pb;function $b(e){ku(t=>{const{stackParser:n,attachStacktrace:r}=Sd();if(L()!==e||Jl())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=Wb($i(n,c||s,void 0,r,!1),o,i,a);u.level="error",Ls(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Bb(e){Cu(t=>{const{stackParser:n,attachStacktrace:r}=Sd();if(L()!==e||Jl())return;const s=Hb(t),o=gn(s)?Ub(s):$i(n,s,void 0,r,!0);o.level="error",Ls(o,{originalException:s,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Hb(e){if(gn(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function Ub(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function Wb(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=Xe(t)&&t.length>0?t:Xt();return c.length===0&&c.push({colno:u,filename:l,function:tt,in_app:!0,lineno:d}),e}function Cc(e){Y&&g.log(`Global Handler attached: ${e}`)}function Sd(){const e=L();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}const zb=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!D.navigator&&!D.location&&!D.document)return;const t=Di(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),jb="cause",qb=5,Gb="LinkedErrors",Vb=((e={})=>{const t=e.limit||qb,n=e.key||jb;return{name:Gb,preprocessEvent(r,s,o){const i=o.getOptions();Nm(Pi,i.stackParser,n,t,r,s)}}}),Yb=Vb;function Xb(){return Kb()?(Y&&At(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function Kb(){var o;if(typeof D.window>"u")return!1;const e=D;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const n=Xt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(D===D.top&&r.some(i=>n.startsWith(`${i}://`)))}function Jb(e){return[Tm(),bm(),Rb(),_b(),Fb(),Yb(),Um(),zb(),Ob()]}function t1(e={}){const t=!e.skipBrowserExtensionCheck&&Xb(),n={...e,enabled:t?!1:e.enabled,stackParser:$f(e.stackParser||pb),integrations:Dh({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?Jb():e.defaultIntegrations}),transport:e.transport||_d};return Jh(xy,n)}function n1(){}function r1(e){e()}function s1(e={}){const t=D.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){Y&&g.error("[showReportDialog] Global document not defined");return}const r=X(),s=L(),o=s==null?void 0:s.getDsn();if(!o){Y&&g.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Ch()},a=D.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=Lh(o,i);const{onLoad:c,onClose:u}=i;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{D.removeEventListener("message",d)}};D.addEventListener("message",d)}n.appendChild(a)}const Zb=U,Qb="ReportingObserver",Rc=new WeakMap,eE=((e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(Rc.has(L()))for(const s of r)Ze(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Oo(`${i}: ${a}`)})}return{name:Qb,setupOnce(){if(!Hg())return;new Zb.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Rc.set(r,!0)}}}),o1=eE,tE="HttpClient",nE=((e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:tE,setup(n){lE(n,t),dE(n,t)}}}),i1=nE;function rE(e,t,n,r,s){if(Ed(e,n.status,n.url)){const o=fE(t,r);let i,a,c,u;wd()&&([i,c]=xc("Cookie",o),[a,u]=xc("Set-Cookie",n));const d=vd({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s});Ls(d)}}function xc(e,t){const n=iE(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=bd(s))}catch{}return[n,r]}function sE(e,t,n,r,s){if(Ed(e,t.status,t.responseURL)){let o,i,a;if(wd()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=bd(u))}catch{}try{a=aE(t)}catch{}o=r}const c=vd({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s});Ls(c)}}function oE(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function bd(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function iE(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function aE(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function cE(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function uE(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function lE(e,t){Pl()&&xi(n=>{if(L()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&rE(t,a,r,c,o||i)},!1)}function dE(e,t){"XMLHttpRequest"in U&&ji(n=>{if(L()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[at];if(!i)return;const{method:a,request_headers:c}=i;try{sE(t,o,a,c,r||s)}catch(u){Y&&g.warn("Error while extracting response event form XHR response",u)}})}function Ed(e,t,n){return uE(e.failedRequestStatusCodes,t)&&cE(e.failedRequestTargets,n)&&!Tl(n,L())}function vd(e){const t=L(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:oE(e.responseHeaders)}}};return Rt(o,{type:"http.client",handled:!1}),o}function fE(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function wd(){const e=L();return e?!!e.getOptions().sendDefaultPii:!1}const So=U,pE=7,hE="ContextLines",mE=((e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:pE;return{name:hE,processEvent(n){return gE(n,t)}}}),a1=mE;function gE(e,t){var a;const n=So.document,r=So.location&&Ol(So.location.href);if(!n||!r)return e;const s=(a=e.exception)==null?void 0:a.values;if(!(s!=null&&s.length))return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(c=>{const u=c.stacktrace;u!=null&&u.frames&&(u.frames=u.frames.map(d=>_E(d,i,r,t)))}),e}function _E(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||Jf(t,e,r),e}const yE="GraphQLClient",SE=(e=>({name:yE,setup(t){bE(t,e),EE(t,e)}}));function bE(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const o=q(n).data||{};if(!(o[qe]==="http.client"))return;const c=o[fp]||o["http.url"],u=o[dp]||o["http.method"];if(!Xe(c)||!Xe(u))return;const{endpoints:d}=t,l=Ke(c,d),f=Id(r);if(l&&f){const p=kd(f);if(p){const h=Td(p);n.updateName(`${u} ${c} (${h})`),n.setAttribute("graphql.document",f)}}})}function EE(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:s,type:o,data:i}=n;if(o==="http"&&(s==="fetch"||s==="xhr")){const d=i==null?void 0:i.url,{endpoints:l}=t,f=Ke(d,l),p=Id(r);if(f&&i&&p){const h=kd(p);if(!i.graphql&&h){const m=Td(h);i["graphql.document"]=h.query,i["graphql.operation"]=m}}}})}function Td(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:s}=vE(t);return r?`${s} ${r}`:`${s}`}function Id(e){const t="xhr"in e;let n;if(t){const r=e.xhr[at];n=r&&Ss(r.body)[0]}else{const r=qi(e.input);n=Ss(r)[0]}return n}function vE(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const s=e.match(n);return s?{operationType:s[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function kd(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const c1=SE,ce=U,Gi="sentryReplaySession",wE="replay_event",Vi="Unable to send Replay",TE=3e5,IE=9e5,kE=5e3,CE=5500,RE=6e4,xE=5e3,ME=3,Mc=15e4,Lr=5e3,AE=3e3,NE=300,Yi=2e7,LE=4999,OE=15e3,Ac=36e5;var DE=Object.defineProperty,PE=(e,t,n)=>t in e?DE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nc=(e,t,n)=>PE(e,typeof t!="symbol"?t+"":t,n),_e=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(_e||{});function FE(e){return e.nodeType===e.ELEMENT_NODE}function Vn(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function Yn(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function $E(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function BE(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function bs(e){try{const t=e.rules||e.cssRules;return t?$E(Array.from(t,Cd).join("")):null}catch{return null}}function HE(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function Cd(e){let t;if(WE(e))try{t=bs(e.styleSheet)||BE(e)}catch{}else if(zE(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=HE(e)),r&&(n=UE(n)),r||s)return n}return t||e.cssText}function UE(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function WE(e){return"styleSheet"in e}function zE(e){return"selectorText"in e}let Rd=class{constructor(){Nc(this,"idNodeMap",new Map),Nc(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function jE(){return new Rd}function Ws({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Zn({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function xn(e){return e.toLowerCase()}function Jo(e){return e.toUpperCase()}const Lc="__rrweb_original__";function qE(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=Lc in o?o[Lc]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function Xi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?xn(t):null}function Es(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function xd(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const Oc={};function Md(e){const t=Oc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Oc[e]=r.bind(window)}function Zo(...e){return Md("setTimeout")(...e)}function Ad(...e){return Md("clearTimeout")(...e)}function Nd(e){try{return e.contentDocument}catch{}}let GE=1;const VE=new RegExp("[^a-z0-9-_:]"),Qn=-2;function Ki(){return GE++}function YE(e){if(e instanceof HTMLFormElement)return"form";const t=xn(e.tagName);return VE.test(t)?"div":t}function XE(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let sn,Dc;const KE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,JE=/^(?:[a-z+]+:)?\/\//i,ZE=/^www\..*/i,QE=/^(data:)([^,]*),(.*)/i;function vs(e,t){return(e||"").replace(KE,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(JE.test(c)||ZE.test(c))return`url(${u}${c}${u})`;if(QE.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${XE(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const ev=/^[^ \t\n\r\u000c]+/,tv=/^[, \t\n\r\u000c]+/;function nv(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(tv),!(n>=t.length);){let o=r(ev);if(o.slice(-1)===",")o=ln(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=ln(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const Pc=new WeakMap;function ln(e,t){return!t||t.trim()===""?t:zs(e,t)}function rv(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function zs(e,t){let n=Pc.get(e);if(n||(n=e.createElement("a"),Pc.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Ld(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?ln(e,r):n==="srcset"?nv(e,r):n==="style"?vs(r,zs(e)):t==="object"&&n==="data"?ln(e,r):typeof o=="function"?o(n,r,s):r)}function Od(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function sv(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function ov(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Ht(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Ht(e.parentNode,t,n,r+1)}function dn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(ov(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Mn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Ht(i,dn(r,s)),c<0)return!0;a=Ht(i,dn(t,n),c>=0?c:1/0)}else{if(a=Ht(i,dn(t,n)),a<0)return!1;c=Ht(i,dn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function iv(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Zo(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Ad(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Zo(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function av(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Zo(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ad(o),r=!0,t()})}function cv(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:_,dataURLOptions:y={},inlineImages:S,recordCanvas:x,keepIframeSrcFn:C,newlyAddedElement:R=!1}=t,b=uv(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:_e.Document,childNodes:[],compatMode:e.compatMode}:{type:_e.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:_e.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return dv(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:_,dataURLOptions:y,inlineImages:S,recordCanvas:x,keepIframeSrcFn:C,newlyAddedElement:R,rootId:b,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return lv(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:_,rootId:b});case e.CDATA_SECTION_NODE:return{type:_e.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:_e.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function uv(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function lv(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(f=bs(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}f=vs(f,zs(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const _=Mn(e,r,o,s,i,n);if(!p&&!h&&!m&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),m&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const S=Ws({type:null,tagName:l,maskInputOptions:c});f=Zn({isMasked:Mn(e,r,o,s,i,S),element:e,value:f,maskInputFn:u})}return{type:_e.Text,textContent:f||"",isStyle:p,rootId:d}}function dv(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskTextClass:_,unmaskTextClass:y,maskTextSelector:S,unmaskTextSelector:x}=t,C=sv(e,r,s,o),R=YE(e);let b={};const T=e.attributes.length;for(let v=0;v<T;v++){const I=e.attributes[v];I.name&&!Od(R,I.name,I.value)&&(b[I.name]=Ld(n,R,xn(I.name),I.value,e,c))}if(R==="link"&&i){const v=Array.from(n.styleSheets).find(F=>F.href===e.href);let I=null;v&&(I=bs(v)),I&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=vs(I,v.href))}if(R==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const v=bs(e.sheet);v&&(b._cssText=vs(v,zs(n)))}if(R==="input"||R==="textarea"||R==="select"||R==="option"){const v=e,I=Xi(v),F=Es(v,Jo(R),I),E=v.checked;if(I!=="submit"&&I!=="button"&&F){const A=Mn(v,_,S,y,x,Ws({type:I,tagName:Jo(R),maskInputOptions:a}));b.value=Zn({isMasked:A,element:v,value:F,maskInputFn:u})}E&&(b.checked=E)}if(R==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),R==="canvas"&&f){if(e.__context==="2d")qE(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const v=e.toDataURL(d.type,d.quality),I=n.createElement("canvas");I.width=e.width,I.height=e.height;const F=I.toDataURL(d.type,d.quality);v!==F&&(b.rr_dataURL=v)}}if(R==="img"&&l){sn||(sn=n.createElement("canvas"),Dc=sn.getContext("2d"));const v=e,I=v.currentSrc||v.getAttribute("src")||"<unknown-src>",F=v.crossOrigin,E=()=>{v.removeEventListener("load",E);try{sn.width=v.naturalWidth,sn.height=v.naturalHeight,Dc.drawImage(v,0,0),b.rr_dataURL=sn.toDataURL(d.type,d.quality)}catch(A){if(v.crossOrigin!=="anonymous"){v.crossOrigin="anonymous",v.complete&&v.naturalWidth!==0?E():v.addEventListener("load",E);return}else console.warn(`Cannot inline img src=${I}! Error: ${A}`)}v.crossOrigin==="anonymous"&&(F?b.crossOrigin=F:v.removeAttribute("crossorigin"))};v.complete&&v.naturalWidth!==0?E():v.addEventListener("load",E)}if((R==="audio"||R==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),C){const{width:v,height:I}=e.getBoundingClientRect();b={class:b.class,rr_width:`${v}px`,rr_height:`${I}px`}}R==="iframe"&&!p(b.src)&&(!C&&!Nd(e)&&(b.rr_src=b.src),delete b.src);let M;try{customElements.get(R)&&(M=!0)}catch{}return{type:_e.Element,tagName:R,attributes:b,childNodes:[],isSVG:rv(e)||void 0,needBlock:C,rootId:m,isCustom:M}}function ae(e){return e==null?"":e.toLowerCase()}function fv(e,t){if(t.comment&&e.type===_e.Comment)return!0;if(e.type===_e.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&xd(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ae(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ae(e.attributes.name)==="application-name"||ae(e.attributes.rel)==="icon"||ae(e.attributes.rel)==="apple-touch-icon"||ae(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ae(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ae(e.attributes.property).match(/^(og|twitter|fb):/)||ae(e.attributes.name).match(/^(og|twitter):/)||ae(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ae(e.attributes.name)==="robots"||ae(e.attributes.name)==="googlebot"||ae(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ae(e.attributes.name)==="author"||ae(e.attributes.name)==="generator"||ae(e.attributes.name)==="framework"||ae(e.attributes.name)==="publisher"||ae(e.attributes.name)==="progid"||ae(e.attributes.property).match(/^article:/)||ae(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ae(e.attributes.name)==="google-site-verification"||ae(e.attributes.name)==="yandex-verification"||ae(e.attributes.name)==="csrf-token"||ae(e.attributes.name)==="p:domain_verify"||ae(e.attributes.name)==="verify-v1"||ae(e.attributes.name)==="verification"||ae(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function fn(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:x={},inlineImages:C=!1,recordCanvas:R=!1,onSerialize:b,onIframeLoad:T,iframeLoadTimeout:M=5e3,onBlockedImageLoad:v,onStylesheetLoad:I,stylesheetLoadTimeout:F=5e3,keepIframeSrcFn:E=()=>!1,newlyAddedElement:A=!1}=t;let{preserveWhiteSpace:j=!0}=t;const O=cv(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,dataURLOptions:x,inlineImages:C,recordCanvas:R,keepIframeSrcFn:E,newlyAddedElement:A});if(!O)return console.warn(e,"not serialized"),null;let W;r.hasNode(e)?W=r.getId(e):fv(O,S)||!j&&O.type===_e.Text&&!O.isStyle&&!O.textContent.replace(/^\s+|\s+$/gm,"").length?W=Qn:W=Ki();const w=Object.assign(O,{id:W});if(r.add(e,w),W===Qn)return null;b&&b(e);let P=!f;if(w.type===_e.Element){P=P&&!w.needBlock;const N=e.shadowRoot;N&&Yn(N)&&(w.isShadowHost=!0)}if((w.type===_e.Document||w.type===_e.Element)&&P){S.headWhitespace&&w.type===_e.Element&&w.tagName==="head"&&(j=!1);const N={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:x,inlineImages:C,recordCanvas:R,preserveWhiteSpace:j,onSerialize:b,onIframeLoad:T,iframeLoadTimeout:M,onBlockedImageLoad:v,onStylesheetLoad:I,stylesheetLoadTimeout:F,keepIframeSrcFn:E},K=e.childNodes?Array.from(e.childNodes):[];for(const Q of K){const ye=fn(Q,N);ye&&w.childNodes.push(ye)}if(FE(e)&&e.shadowRoot)for(const Q of Array.from(e.shadowRoot.childNodes)){const ye=fn(Q,N);ye&&(Yn(e.shadowRoot)&&(ye.isShadow=!0),w.childNodes.push(ye))}}if(e.parentNode&&Vn(e.parentNode)&&Yn(e.parentNode)&&(w.isShadow=!0),w.type===_e.Element&&w.tagName==="iframe"&&!w.needBlock&&iv(e,()=>{const N=Nd(e);if(N&&T){const K=fn(N,{doc:N,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:x,inlineImages:C,recordCanvas:R,preserveWhiteSpace:j,onSerialize:b,onIframeLoad:T,iframeLoadTimeout:M,onStylesheetLoad:I,stylesheetLoadTimeout:F,keepIframeSrcFn:E});K&&T(e,K)}},M),w.type===_e.Element&&w.tagName==="img"&&!e.complete&&w.needBlock){const N=e,K=()=>{if(N.isConnected&&!N.complete&&v)try{const Q=N.getBoundingClientRect();Q.width>0&&Q.height>0&&v(N,w,Q)}catch{}N.removeEventListener("load",K)};N.isConnected&&N.addEventListener("load",K)}return w.type===_e.Element&&w.tagName==="link"&&typeof w.attributes.rel=="string"&&(w.attributes.rel==="stylesheet"||w.attributes.rel==="preload"&&typeof w.attributes.href=="string"&&xd(w.attributes.href)==="css")&&av(e,()=>{if(I){const N=fn(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:S,dataURLOptions:x,inlineImages:C,recordCanvas:R,preserveWhiteSpace:j,onSerialize:b,onIframeLoad:T,iframeLoadTimeout:M,onStylesheetLoad:I,stylesheetLoadTimeout:F,keepIframeSrcFn:E});N&&I(e,N)}},F),w.type===_e.Element&&delete w.needBlock,w}function pv(e,t){const{mirror:n=new Rd,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOM:S=!1,dataURLOptions:x,preserveWhiteSpace:C,onSerialize:R,onIframeLoad:b,iframeLoadTimeout:T,onBlockedImageLoad:M,onStylesheetLoad:v,stylesheetLoadTimeout:I,keepIframeSrcFn:F=()=>!1}=t||{};return fn(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:_,maskInputFn:y,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:x,inlineImages:f,recordCanvas:p,preserveWhiteSpace:C,onSerialize:R,onIframeLoad:b,iframeLoadTimeout:T,onBlockedImageLoad:M,onStylesheetLoad:v,stylesheetLoadTimeout:I,keepIframeSrcFn:F,newlyAddedElement:!1})}function Re(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const on=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Fc={map:{},getId(){return console.error(on),-1},getNode(){return console.error(on),null},removeNodeFromMap(){console.error(on)},has(){return console.error(on),!1},reset(){console.error(on)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Fc=new Proxy(Fc,{get(e,t,n){return t==="map"&&console.error(on),Reflect.get(e,t,n)}}));function er(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(bv(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=js(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function Dd(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){js(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>Dd(e,t,o||{},!0)}function Ji(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let ws=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ws=()=>new Date().getTime());function Pd(e){var n,r,s,o,i,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((i=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:i.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Fd(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function $d(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Bd(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Pe(e,t,n,r,s){if(!e)return!1;const o=Bd(e);if(!o)return!1;const i=dn(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=Ht(o,i);let c=-1;return a<0?!1:(r&&(c=Ht(o,dn(null,r))),a>-1&&c<0?!0:a<c)}function hv(e,t){return t.getId(e)!==-1}function bo(e,t){return t.getId(e)===Qn}function Hd(e,t){if(Vn(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Hd(e.parentNode,t):!0:!0}function Qo(e){return!!e.changedTouches}function mv(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Ud(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Wd(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function ei(e){return!!(e!=null&&e.shadowRoot)}class gv{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zd(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function _v(e){let t=e,n;for(;n=zd(t);)t=n;return t}function yv(e){const t=e.ownerDocument;if(!t)return!1;const n=_v(e);return t.contains(n)}function jd(e){const t=e.ownerDocument;return t?t.contains(e)||yv(e):!1}const $c={};function Zi(e){const t=$c[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return $c[e]=r.bind(window)}function Sv(...e){return Zi("requestAnimationFrame")(...e)}function js(...e){return Zi("setTimeout")(...e)}function bv(...e){return Zi("clearTimeout")(...e)}var G=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(G||{}),z=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(z||{}),Ce=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ce||{}),it=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(it||{}),an=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(an||{});function Qi(e){try{return e.contentDocument}catch{}}function Ev(e){try{return e.contentWindow}catch{}}function Bc(e){return"__ln"in e}class vv{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Bc(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Bc(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Hc=(e,t)=>`${e}@${t}`;class wv{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new vv,s=c=>{let u=c,d=Qn;for(;d===Qn;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!jd(c))return;const u=Vn(c.parentNode)?this.mirror.getId(zd(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=fn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Ud(f,this.mirror)&&!Pe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Wd(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),ei(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{Pe(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)},onBlockedImageLoad:(f,p,{width:h,height:m})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:p.id,attributes:{style:{width:`${h}px`,height:`${m}px`}}}]})}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)Uc(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!Wc(this.droppedSet,c)&&!Uc(this.removes,c,this.mirror)||Wc(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!bo(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Pe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Mn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Bd(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=Xi(n),a=n.tagName;s=Es(n,a,i);const c=Ws({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Mn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=Zn({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(Pe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Qi(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Od(n.tagName,r)&&(o.attributes[r]=Ld(this.doc,xn(n.tagName),xn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(Pe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=Vn(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Pe(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||bo(n,this.mirror)||!hv(n,this.mirror)||(this.addedSet.has(n)?(ti(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Hd(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Hc(r,s)]?ti(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:Vn(t.target)&&Yn(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(bo(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Hc(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Pe(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),ei(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function ti(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>ti(e,r))}function Uc(e,t,n){return e.length===0?!1:Tv(e,t,n)}function Tv(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Wc(e,t){return e.size===0?!1:qd(e,t)}function qd(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:qd(e,n):!1}let Xn;function Iv(e){Xn=e}function kv(){Xn=void 0}const Z=e=>Xn?(...n)=>{try{return e(...n)}catch(r){if(Xn&&Xn(r)===!0)return()=>{};throw r}}:e,pn=[];function yr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Gd(e,t){var i,a;const n=new wv;pn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(i=window==null?void 0:window.Zone)==null?void 0:i.__symbol__)==null?void 0:a.call(i,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(Z(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function Cv({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=er(Z(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),o),u=Z(er(Z(l=>{const f=yr(l),{clientX:p,clientY:h}=Qo(l)?l.changedTouches[0]:l;a||(a=ws()),i.push({x:p,y:h,id:r.getId(f),timeOffset:ws()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?z.Drag:l instanceof MouseEvent?z.MouseMove:z.TouchMove)}),s,{trailing:!1})),d=[Re("mousemove",u,n),Re("touchmove",u,n),Re("drag",u,n)];return Z(()=>{d.forEach(l=>l())})}function Rv({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=yr(f);if(Pe(p,r,s,o,!0))return;let h=null,m=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=it.Mouse;break;case"touch":h=it.Touch;break;case"pen":h=it.Pen;break}h===it.Touch?Ce[l]===Ce.MouseDown?m="TouchStart":Ce[l]===Ce.MouseUp&&(m="TouchEnd"):it.Pen}else Qo(f)&&(h=it.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===it.Touch||m.startsWith("Mouse")&&h===it.Mouse)&&(h=null)):Ce[l]===Ce.Click&&(h=u,u=null);const _=Qo(f)?f.changedTouches[0]:f;if(!_)return;const y=n.getId(p),{clientX:S,clientY:x}=_;Z(e)({type:Ce[m],id:y,x:S,y:x,...h!==null&&{pointerType:h}})};return Object.keys(Ce).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=xn(l);const p=d(l);if(window.PointerEvent)switch(Ce[l]){case Ce.MouseDown:case Ce.MouseUp:f=f.replace("mouse","pointer");break;case Ce.TouchStart:case Ce.TouchEnd:return}c.push(Re(f,p,t))}),Z(()=>{c.forEach(l=>l())})}function Vd({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=Z(er(Z(c=>{const u=yr(c);if(!u||Pe(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Pd(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Re("scroll",a,t)}function xv({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=Z(er(Z(()=>{const o=Fd(),i=$d();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Re("resize",s,t)}const Mv=["INPUT","TEXTAREA","SELECT"],zc=new WeakMap;function Av({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function _(T){let M=yr(T);const v=T.isTrusted,I=M&&Jo(M.tagName);if(I==="OPTION"&&(M=M.parentElement),!M||!I||Mv.indexOf(I)<0||Pe(M,r,s,o,!0))return;const F=M;if(F.classList.contains(i)||a&&F.matches(a))return;const E=Xi(M);let A=Es(F,I,E),j=!1;const O=Ws({maskInputOptions:c,tagName:I,type:E}),W=Mn(M,f,h,p,m,O);(E==="radio"||E==="checkbox")&&(j=M.checked),A=Zn({isMasked:W,element:M,value:A,maskInputFn:u}),y(M,l?{text:A,isChecked:j,userTriggered:v}:{text:A,isChecked:j});const w=M.name;E==="radio"&&w&&j&&t.querySelectorAll(`input[type="radio"][name="${w}"]`).forEach(P=>{if(P!==M){const N=Zn({isMasked:W,element:P,value:Es(P,I,E),maskInputFn:u});y(P,l?{text:N,isChecked:!j,userTriggered:!1}:{text:N,isChecked:!j})}})}function y(T,M){const v=zc.get(T);if(!v||v.text!==M.text||v.isChecked!==M.isChecked){zc.set(T,M);const I=n.getId(T);Z(e)({...M,id:I})}}const x=(d.input==="last"?["change"]:["input","change"]).map(T=>Re(T,Z(_),t)),C=t.defaultView;if(!C)return()=>{x.forEach(T=>T())};const R=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),b=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];return R&&R.set&&x.push(...b.map(T=>Dd(T[0],T[1],{set(){Z(_)({target:this,isTrusted:!1})}},!1,C))),Z(()=>{x.forEach(T=>T())})}function Ts(e){const t=[];function n(r,s){if(Or("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Or("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Or("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Or("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function vt(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function Nv({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:Z((d,l,f)=>{const[p,h]=f,{id:m,styleId:_}=vt(l,t,n.styleMirror);return(m&&m!==-1||_&&_!==-1)&&e({id:m,styleId:_,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:Z((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:Z((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:Z((d,l,f)=>{const[p]=f,{id:h,styleId:m}=vt(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:p}),d.apply(l,f)})}));const c={};Dr("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Dr("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Dr("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Dr("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:Z((f,p,h)=>{const[m,_]=h,{id:y,styleId:S}=vt(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,adds:[{rule:m,index:[...Ts(p),_||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:Z((f,p,h)=>{const[m]=h,{id:_,styleId:y}=vt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,removes:[{index:[...Ts(p),m]}]}),f.apply(p,h)})})}),Z(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Yd({mirror:e,stylesheetManager:t},n){var i,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(i=n.defaultView)==null?void 0:i.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var u;return(u=o.get)==null?void 0:u.call(this)},set(u){var l;const d=(l=o.set)==null?void 0:l.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),Z(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function Lv({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:Z((a,c,u)=>{var m;const[d,l,f]=u;if(n.has(d))return o.apply(c,[d,l,f]);const{id:p,styleId:h}=vt((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:Ts(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:Z((a,c,u)=>{var p;const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=vt((p=c.parentRule)==null?void 0:p.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Ts(c.parentRule)}),a.apply(c,u)})}),Z(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function Ov({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=Z(u=>er(Z(d=>{const l=yr(d);if(!l||Pe(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:f,volume:p,muted:h,playbackRate:m})}),o.media||500)),c=[Re("play",a(an.Play),i),Re("pause",a(an.Pause),i),Re("seeked",a(an.Seeked),i),Re("volumechange",a(an.VolumeChange),i),Re("ratechange",a(an.RateChange),i)];return Z(()=>{c.forEach(u=>u())})}function Dv({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=Ji(t.fonts,"add",function(a){return function(c){return js(Z(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),Z(()=>{r.forEach(a=>a())})}function Pv(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=Z(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:m,endContainer:_,endOffset:y}=p;Pe(h,r,s,o,!0)||Pe(_,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(_),endOffset:y})}i({ranges:d})});return c(),Re("selectionchange",c)}function Fv({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Ji(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function $v(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Gd(e,e.doc));const s=Cv(e),o=Rv(e),i=Vd(e),a=xv(e,{win:n}),c=Av(e),u=Ov(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=Nv(e,{win:n}),l=Yd(e,e.doc),f=Lv(e,{win:n}),e.collectFonts&&(p=Dv(e)));const h=Pv(e),m=Fv(e),_=[];for(const y of e.plugins)_.push(y.observer(y.callback,n,y.options));return Z(()=>{pn.forEach(y=>y.reset()),r==null||r.disconnect(),s(),o(),i(),a(),c(),u(),d(),l(),f(),p(),h(),m(),_.forEach(y=>y())})}function Or(e){return typeof window[e]<"u"}function Dr(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class ni{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Bv{constructor(){this.crossOriginIframeMirror=new ni(Ki),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Hv{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new ni(Ki),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new ni(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=Qi(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case G.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:G.IncrementalSnapshot,data:{source:z.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case G.Meta:case G.Load:case G.DomContentLoaded:return!1;case G.Plugin:return n;case G.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case G.IncrementalSnapshot:switch(n.data.source){case z.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case z.Drag:case z.TouchMove:case z.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case z.ViewportResize:return!1;case z.MediaInteraction:case z.MouseInteraction:case z.Scroll:case z.CanvasMutation:case z.Input:return this.replaceIds(n.data,t,["id"]),n;case z.StyleSheetRule:case z.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case z.Font:return n;case z.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case z.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==_e.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Uv{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Wv{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Yn(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Gd({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Vd({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),js(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Yd({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Qi(t),r=Ev(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Ji(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&jd(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Pr=0;Pr<jc.length;Pr++)zv[jc.charCodeAt(Pr)]=Pr;class qc{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class jv{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new gv,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:Cd(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class qv{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Sv(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let fe,Is;var bu;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((bu=e.contentWindow)==null?void 0:bu.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Ve=jE();function ct(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:_,slimDOMOptions:y,maskAttributeFn:S,maskInputFn:x,maskTextFn:C,maxCanvasSize:R=null,packFn:b,sampling:T={},dataURLOptions:M={},mousemoveWait:v,recordDOM:I=!0,recordCanvas:F=!1,recordCrossOriginIframes:E=!1,recordAfter:A=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:j=!1,collectFonts:O=!1,inlineImages:W=!1,plugins:w,keepIframeSrcFn:P=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:K,onMutation:Q,getCanvasManager:ye}=e;Iv(K);const Se=E?window.parent===window:!0;let ge=!1;if(!Se)try{window.parent.document&&(ge=!1)}catch{ge=!0}if(Se&&!t)throw new Error("emit function is required");if(!Se&&!ge)return()=>{};v!==void 0&&T.mousemove===void 0&&(T.mousemove=v),Ve.reset();const Oe=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},rt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};mv();let tn,nn=0;const Wn=ee=>{for(const Ge of w||[])Ge.eventProcessor&&(ee=Ge.eventProcessor(ee));return b&&!ge&&(ee=b(ee)),ee};fe=(ee,Ge)=>{var Ae;const J=ee;if(J.timestamp=ws(),(Ae=pn[0])!=null&&Ae.isFrozen()&&J.type!==G.FullSnapshot&&!(J.type===G.IncrementalSnapshot&&J.data.source===z.Mutation)&&pn.forEach(Be=>Be.unfreeze()),Se)t==null||t(Wn(J),Ge);else if(ge){const Be={type:"rrweb",event:Wn(J),origin:window.location.origin,isCheckout:Ge};window.parent.postMessage(Be,"*")}if(J.type===G.FullSnapshot)tn=J,nn=0;else if(J.type===G.IncrementalSnapshot){if(J.data.source===z.Mutation&&J.data.isAttachIframe)return;nn++;const Be=r&&nn>=r,ne=n&&tn&&J.timestamp-tn.timestamp>n;(Be||ne)&&Xs(!0)}};const st=ee=>{fe({type:G.IncrementalSnapshot,data:{source:z.Mutation,...ee}})},te=ee=>fe({type:G.IncrementalSnapshot,data:{source:z.Scroll,...ee}}),be=ee=>fe({type:G.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),$e=ee=>fe({type:G.IncrementalSnapshot,data:{source:z.AdoptedStyleSheet,...ee}}),he=new jv({mutationCb:st,adoptedStyleSheetCb:$e}),re=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Bv:new Hv({mirror:Ve,mutationCb:st,stylesheetManager:he,recordCrossOriginIframes:E,wrappedEmit:fe});for(const ee of w||[])ee.getMirror&&ee.getMirror({nodeMirror:Ve,crossOriginIframeMirror:re.crossOriginIframeMirror,crossOriginIframeStyleMirror:re.crossOriginIframeStyleMirror});const Ie=new qv,Dt=Vv(ye,{mirror:Ve,win:window,mutationCb:ee=>fe({type:G.IncrementalSnapshot,data:{source:z.CanvasMutation,...ee}}),recordCanvas:F,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:R,sampling:T.canvas,dataURLOptions:M,errorHandler:K}),ot=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Uv:new Wv({mutationCb:st,scrollCb:te,bypassOptions:{onMutation:Q,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:Oe,dataURLOptions:M,maskAttributeFn:S,maskTextFn:C,maskInputFn:x,recordCanvas:F,inlineImages:W,sampling:T,slimDOMOptions:rt,iframeManager:re,stylesheetManager:he,canvasManager:Dt,keepIframeSrcFn:P,processedNodeManager:Ie},mirror:Ve}),Xs=(ee=!1)=>{if(!I)return;fe({type:G.Meta,data:{href:window.location.href,width:$d(),height:Fd()}},ee),he.reset(),ot.init(),pn.forEach(J=>J.lock());const Ge=pv(document,{mirror:Ve,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:Oe,maskAttributeFn:S,maskInputFn:x,maskTextFn:C,slimDOM:rt,dataURLOptions:M,recordCanvas:F,inlineImages:W,onSerialize:J=>{Ud(J,Ve)&&re.addIframe(J),Wd(J,Ve)&&he.trackLinkElement(J),ei(J)&&ot.addShadowRoot(J.shadowRoot,document)},onIframeLoad:(J,Ae)=>{re.attachIframe(J,Ae),J.contentWindow&&Dt.addWindow(J.contentWindow),ot.observeAttachShadow(J)},onStylesheetLoad:(J,Ae)=>{he.attachLinkElement(J,Ae)},onBlockedImageLoad:(J,Ae,{width:Be,height:ne})=>{st({adds:[],removes:[],texts:[],attributes:[{id:Ae.id,attributes:{style:{width:`${Be}px`,height:`${ne}px`}}}]})},keepIframeSrcFn:P});if(!Ge)return console.warn("Failed to snapshot the document");fe({type:G.FullSnapshot,data:{node:Ge,initialOffset:Pd(window)}}),pn.forEach(J=>J.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&he.adoptStyleSheets(document.adoptedStyleSheets,Ve.getId(document))};Is=Xs;try{const ee=[],Ge=Ae=>{var Be;return Z($v)({onMutation:Q,mutationCb:st,mousemoveCb:(ne,Ks)=>fe({type:G.IncrementalSnapshot,data:{source:Ks,positions:ne}}),mouseInteractionCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.MouseInteraction,...ne}}),scrollCb:te,viewportResizeCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.ViewportResize,...ne}}),inputCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.Input,...ne}}),mediaInteractionCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.MediaInteraction,...ne}}),styleSheetRuleCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.StyleSheetRule,...ne}}),styleDeclarationCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.StyleDeclaration,...ne}}),canvasMutationCb:be,fontCb:ne=>fe({type:G.IncrementalSnapshot,data:{source:z.Font,...ne}}),selectionCb:ne=>{fe({type:G.IncrementalSnapshot,data:{source:z.Selection,...ne}})},customElementCb:ne=>{fe({type:G.IncrementalSnapshot,data:{source:z.CustomElement,...ne}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:Oe,inlineStylesheet:h,sampling:T,recordDOM:I,recordCanvas:F,inlineImages:W,userTriggeredOnInput:j,collectFonts:O,doc:Ae,maskAttributeFn:S,maskInputFn:x,maskTextFn:C,keepIframeSrcFn:P,blockSelector:o,unblockSelector:i,slimDOMOptions:rt,dataURLOptions:M,mirror:Ve,iframeManager:re,stylesheetManager:he,shadowDomManager:ot,processedNodeManager:Ie,canvasManager:Dt,ignoreCSSAttributes:N,plugins:((Be=w==null?void 0:w.filter(ne=>ne.observer))==null?void 0:Be.map(ne=>({observer:ne.observer,options:ne.options,callback:Ks=>fe({type:G.Plugin,data:{plugin:ne.name,payload:Ks}})})))||[]},{})};re.addLoadListener(Ae=>{try{ee.push(Ge(Ae.contentDocument))}catch(Be){console.warn(Be)}});const J=()=>{Xs(),ee.push(Ge(document))};return document.readyState==="interactive"||document.readyState==="complete"?J():(ee.push(Re("DOMContentLoaded",()=>{fe({type:G.DomContentLoaded,data:{}}),A==="DOMContentLoaded"&&J()})),ee.push(Re("load",()=>{fe({type:G.Load,data:{}}),A==="load"&&J()},window))),()=>{ee.forEach(Ae=>Ae()),Ie.destroy(),Is=void 0,kv()}}catch(ee){console.warn(ee)}}function Gv(e){if(!Is)throw new Error("please take full snapshot after start recording");Is(e)}ct.mirror=Ve;ct.takeFullSnapshot=Gv;function Vv(e,t){try{return e?e(t):new qc}catch{return console.warn("Unable to initialize CanvasManager"),new qc}}var Gc;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Gc||(Gc={}));const Yv=3,Xv=5;function ea(e){return e>9999999999?e:e*1e3}function Eo(e){return e>9999999999?e/1e3:e}function Sr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:G.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:De(t,10,1e3)}}),t.category==="console")))}const Kv="button,a";function Xd(e){return e.closest(Kv)||e}function Kd(e){const t=Jd(e);return!t||!(t instanceof Element)?t:Xd(t)}function Jd(e){return Jv(e)?e.target:e}function Jv(e){return typeof e=="object"&&!!e&&"target"in e}let wt;function Zv(e){return wt||(wt=[],Qv()),wt.push(e),()=>{const t=wt?wt.indexOf(e):-1;t>-1&&wt.splice(t,1)}}function Qv(){xe(ce,"open",function(e){return function(...t){if(wt)try{wt.forEach(n=>n())}catch{}return e.apply(ce,t)}})}const e0=new Set([z.Mutation,z.StyleSheetRule,z.StyleDeclaration,z.AdoptedStyleSheet,z.CanvasMutation,z.Selection,z.MediaInteraction]);function t0(e,t,n){e.handleClick(t,n)}class n0{constructor(t,n,r=Sr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=Zv(()=>{this._lastMutation=Vc()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(s0(n,this._ignoreSelector)||!o0(t))return;const r={timestamp:Eo(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Eo(t)}registerScroll(t=Date.now()){this._lastScroll=Eo(t)}registerClick(t){const n=Xd(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Vc();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ce.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ce.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=_r(()=>this._checkClicks(),1e3)}}const r0=["A","BUTTON","INPUT"];function s0(e,t){return!!(!r0.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function o0(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Vc(){return Date.now()/1e3}function i0(e,t){try{if(!a0(t))return;const{source:n}=t.data;if(e0.has(n)&&e.registerMutation(t.timestamp),n===z.Scroll&&e.registerScroll(t.timestamp),c0(t)){const{type:r,id:s}=t.data,o=ct.mirror.getNode(s);o instanceof HTMLElement&&r===Ce.Click&&e.registerClick(o)}}catch{}}function a0(e){return e.type===Yv}function c0(e){return e.data.source===z.MouseInteraction}function et(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var ta=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ta||{});const u0=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function l0(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(u0.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const d0=e=>t=>{if(!e.isEnabled())return;const n=f0(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&t0(e.clickDetector,n,Kd(t.event)),Sr(e,n)};function Zd(e,t){const n=ct.mirror.getId(e),r=n&&ct.mirror.getNode(n),s=r&&ct.mirror.getMeta(r),o=s&&h0(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===ta.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:l0(o.attributes)}}:{}}}function f0(e){const{target:t,message:n}=p0(e);return et({category:`ui.${e.name}`,...Zd(t,n)})}function p0(e){const t=e.name==="click";let n,r=null;try{r=t?Kd(e.event):Jd(e.event),n=je(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function h0(e){return e.type===ta.Element}function m0(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=g0(t);n&&Sr(e,n)}function g0(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||_0(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=je(i,{maxStringLength:200})||"<unknown>",d=Zd(i,u);return et({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function _0(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const y0={resource:w0,paint:E0,navigation:v0};function Fr(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function S0(e){return e.map(b0).filter(Boolean)}function b0(e){const t=y0[e.entryType];return t?t(e):null}function An(e){return((ke()||ce.performance.timeOrigin)+e)/1e3}function E0(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=An(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function v0(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:An(p),end:An(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:f}}}function w0(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:An(o),end:An(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function T0(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return qs(e,"largest-contentful-paint",n)}function I0(e){return e.sources!==void 0}function k0(e){const t=[],n=[];for(const r of e.entries)if(I0(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=ct.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return qs(e,"cumulative-layout-shift",n,t)}function C0(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return qs(e,"first-input-delay",n)}function R0(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return qs(e,"interaction-to-next-paint",n)}function qs(e,t,n,r){const s=e.value,o=e.rating,i=An(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>ct.mirror.getId(a)):void 0,attributions:r}}}function x0(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(Yt(s,n))}),r.push(Ui(Fr(T0,e)),Hi(Fr(k0,e)),cd(Fr(C0,e)),ud(Fr(R0,e))),()=>{r.forEach(s=>s())}}const $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,M0='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function A0(){const e=new Blob([M0]);return URL.createObjectURL(e)}const Yc=["log","warn","error"],Qr="[Replay] ";function vo(e,t="info"){mt({category:"console",data:{logger:"replay"},level:t,message:`${Qr}${e}`},{level:t})}function N0(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return $?(Yc.forEach(r=>{n[r]=(...s)=>{g[r](Qr,...s),t&&vo(s.join(""),Ri(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),g.error(Qr,r),e?bn(r):t&&vo(r,"error")},n.infoTick=(...r)=>{g.log(Qr,...r),t&&setTimeout(()=>vo(r[0]),0)}):Yc.forEach(r=>{n[r]=()=>{}}),n}const B=N0();class na extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Yi}.`)}}class Qd{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Yi)throw new na;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ea(t):null}}class L0{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){$&&B.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){$&&B.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class O0{constructor(t){this._worker=new L0(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ea(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Yi?Promise.reject(new na):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{$&&B.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class D0{constructor(t){this._fallback=new Qd,this._compression=new O0(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){$&&B.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){$&&B.exception(o,"Failed to add events when switching buffers.")}}}function P0({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=F0(t);if(n)return n}return $&&B.log("Using simple buffer"),new Qd}function F0(e){try{const t=e||$0();if(!t)return;$&&B.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new D0(n)}catch(t){$&&B.exception(t,"Failed to create compression worker")}}function $0(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?A0():""}function ra(){try{return"sessionStorage"in ce&&!!ce.sessionStorage}catch{return!1}}function B0(e){H0(),e.session=void 0}function H0(){if(ra())try{ce.sessionStorage.removeItem(Gi)}catch{}}function ef(e){return e===void 0?!1:Math.random()<e}function sa(e){if(ra())try{ce.sessionStorage.setItem(Gi,JSON.stringify(e))}catch{}}function tf(e){const t=Date.now(),n=e.id||Me(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function U0(e,t){return ef(e)?"session":t?"buffer":!1}function Xc({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=U0(e,t),o=tf({sampled:s,previousSessionId:r});return n&&sa(o),o}function W0(){if(!ra())return null;try{const e=ce.sessionStorage.getItem(Gi);if(!e)return null;const t=JSON.parse(e);return $&&B.infoTick("Loading existing session"),tf(t)}catch{return null}}function ri(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function nf(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ri(e.started,t,r)||ri(e.lastActivity,n,r)}function rf(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!nf(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function wo({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&W0();return s?rf(s,{sessionIdleExpire:e,maxReplayDuration:t})?($&&B.infoTick("Session in sessionStorage is expired, creating new one..."),Xc(r,{previousSessionId:s.id})):s:($&&B.infoTick("Creating new session"),Xc(r,{previousSessionId:n}))}function z0(e){return e.type===G.Custom}function oa(e,t,n){return of(e,t)?(sf(e,t,n),!0):!1}function j0(e,t,n){return of(e,t)?sf(e,t,n):Promise.resolve(null)}async function sf(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=q0(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof na,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=L();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function of(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ea(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?($&&B.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function q0(e,t){try{if(typeof t=="function"&&z0(e))return t(e)}catch(n){return $&&B.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function ia(e){return!e.type}function si(e){return e.type==="transaction"}function G0(e){return e.type==="replay_event"}function Kc(e){return e.type==="feedback"}function V0(e){return(t,n)=>{if(!e.isEnabled()||!ia(t)&&!si(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(si(t)){Y0(e,t);return}X0(e,t)}}}function Y0(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function X0(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||_r(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function K0(e){return t=>{!e.isEnabled()||!ia(t)||J0(e,t)}}function J0(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=et({category:"replay.hydrate-error",data:{url:Xt()}});Sr(e,i)}}function Z0(e){const t=L();t&&t.on("beforeAddBreadcrumb",n=>Q0(e,n))}function Q0(e,t){if(!e.isEnabled()||!af(t))return;const n=ew(t);n&&Sr(e,n)}function ew(e){return!af(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?tw(e):et(e)}function tw(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return et(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>Lr?(n=!0,`${o.slice(0,Lr)}`):o;if(typeof o=="object")try{const i=De(o,7);return JSON.stringify(i).length>Lr?(n=!0,`${JSON.stringify(i,null,2).slice(0,Lr)}`):i}catch{}return o});return et({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function af(e){return!!e.category}function nw(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function cf(){const e=X().getPropagationContext().dsc;e&&delete e.replay_id;const t=we();if(t){const n=Je(t);delete n.replay_id}}function rw(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:G.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function sw(e,t){return e.recordingMode!=="buffer"||t.message===Vi||!t.exception||t.type?!1:ef(e.getOptions().errorSampleRate)}function ow(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:G0(t)?(delete t.breadcrumbs,t):!ia(t)&&!si(t)&&!Kc(t)?t:e.checkAndHandleExpiredSession()?Kc(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),rw(e,t),t):nw(t,n)&&!e.getOptions()._experiments.captureExceptions?($&&B.log("Ignoring error from rrweb internals",t),null):((sw(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(cf(),t),{id:"Replay"})}function Gs(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:G.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function iw(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function aw(e){return t=>{if(!e.isEnabled())return;const n=iw(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Gs(e,[n]),!1)))}}function cw(e,t){return $&&e.getOptions()._experiments.traceInternals?!1:Tl(t,L())}function uf(e,t){e.isEnabled()&&t!==null&&(cw(e,t.name)||e.addUpdate(()=>(Gs(e,[t]),!0)))}function Vs(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=gd(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function lf(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ks(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function df(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i,request:a,response:c}}}function tr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ct(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=uw(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function oi(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function uw(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Mc,n=lw(e);if(t){const r=e.slice(0,Mc);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function lw(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Cs(e,t){const n=dw(e);return Ke(n,t)}function dw(e,t=ce.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ce.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function fw(e,t,n){try{const r=await hw(e,t,n),s=df("resource.fetch",r);uf(n.replay,s)}catch(r){$&&B.exception(r,"Failed to capture fetch breadcrumb")}}function pw(e,t){const{input:n,response:r}=t,s=n?qi(n):void 0,o=Vs(s),i=r?lf(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function hw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Cs(i,n.networkDetailAllowUrls)&&!Cs(i,n.networkDetailDenyUrls),f=l?mw(n,t.input,u):tr(u),p=await gw(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:f,response:p}}function mw({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?Sw(n,t):{};if(!e)return Ct(s,r,void 0);const o=qi(n),[i,a]=Ss(o,B),c=Ct(s,r,i);return a?ks(c,a):c}async function gw(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return tr(s);const o=r?ff(r.headers,n):{};if(!r||!t&&s!==void 0)return Ct(o,s,void 0);const[i,a]=await yw(r),c=_w(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?ks(c,a):c}function _w(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?Vs(e):n;return r?t?Ct(s,o,e):Ct(s,o,void 0):tr(o)}catch(o){return $&&B.exception(o,"Failed to serialize response body"),Ct(s,n,void 0)}}async function yw(e){const t=bw(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await Ew(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?($&&B.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):($&&B.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function ff(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function Sw(e,t){return e.length===1&&typeof e[0]!="string"?Jc(e[0],t):e.length===2?Jc(e[1],t):{}}function Jc(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?ff(n,t):Array.isArray(n)?{}:oi(n,t):{}}function bw(e){try{return e.clone()}catch(t){$&&B.exception(t,"Failed to clone response body")}}function Ew(e){return new Promise((t,n)=>{const r=_r(()=>n(new Error("Timeout while trying to read response body")),500);vw(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function vw(e){return await e.text()}async function ww(e,t,n){try{const r=Iw(e,t,n),s=df("resource.xhr",r);uf(n.replay,s)}catch(r){$&&B.exception(r,"Failed to capture xhr breadcrumb")}}function Tw(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=Vs(r),o=n.getResponseHeader("content-length")?lf(n.getResponseHeader("content-length")):xw(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function Iw(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Cs(c,n.networkDetailAllowUrls)||Cs(c,n.networkDetailDenyUrls)){const b=tr(l),T=tr(f);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:b,response:T}}const p=a[at],h=p?oi(p.request_headers,n.networkRequestHeaders):{},m=oi(kw(a),n.networkResponseHeaders),[_,y]=n.networkCaptureBodies?Ss(i,B):[void 0],[S,x]=n.networkCaptureBodies?Cw(a):[void 0],C=Ct(h,l,_),R=Ct(m,f,S);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:y?ks(C,y):C,response:x?ks(R,x):R}}function kw(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function Cw(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return Rw(e.response,e.responseType)}catch(n){t.push(n)}return $&&B.warn("Failed to get xhr response body",...t),[void 0]}function Rw(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return $&&B.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $&&B.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function xw(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Vs(n)}catch{return}}function Mw(e){const t=L();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>Aw(a,c,u))}catch{}}function Aw(e,t,n){if(t.data)try{Nw(t)&&Ow(n)&&(Tw(t,n),ww(t,n,e)),Lw(t)&&Dw(n)&&(pw(t,n),fw(t,n,e))}catch(r){$&&B.exception(r,"Error when enriching network breadcrumb")}}function Nw(e){return e.category==="xhr"}function Lw(e){return e.category==="fetch"}function Ow(e){return e==null?void 0:e.xhr}function Dw(e){return e==null?void 0:e.response}function Pw(e){const t=L();md(d0(e)),Us(aw(e)),Z0(e),Mw(e);const n=ow(e);xh(n),t&&(t.on("beforeSendEvent",K0(e)),t.on("afterSendEvent",V0(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var i;const o=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&o&&((i=r.contexts)!=null&&i.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function Fw(e){try{return Promise.all(Gs(e,[$w(ce.performance.memory)]))}catch{return[]}}function $w(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Bw(e,t,n){return gm(e,t,{...n,setTimeoutImpl:_r})}const He=U.navigator;function Hw(){return/iPhone|iPad|iPod/i.test((He==null?void 0:He.userAgent)??"")||/Macintosh/i.test((He==null?void 0:He.userAgent)??"")&&(He!=null&&He.maxTouchPoints)&&(He==null?void 0:He.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function Uw(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){$&&B.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&i0(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!oa(e,n,s))return!0;if(!s)return!1;const o=e.session;if(zw(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&($&&B.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&sa(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function Ww(e){const t=e.getOptions();return{type:G.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function zw(e,t){!t||!e.session||e.session.segmentId!==0||oa(e,Ww(e),!1)}function jw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function qw(e,t,n,r){return St(rl(e,Ei(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Gw({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function Vw({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await cl(e.getOptions(),r,o,t,e,ve());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u}=(a==null?void 0:a.sdk)||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},i}async function Yw({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=Gw({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=L(),f=X(),p=l==null?void 0:l.getTransport(),h=l==null?void 0:l.getDsn();if(!l||!p||!h||!o.sampled)return ht({});const m={type:wE,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},_=await Vw({scope:f,client:l,replayId:t,event:m});if(!_)return l.recordDroppedEvent("event_processor","replay"),$&&B.log("An event processor returned `null`, will not send event."),ht({});delete _.sdkProcessingMetadata;const y=qw(_,i,h,l.getOptions().tunnel);let S;try{S=await p.send(y)}catch(C){const R=new Error(Vi);try{R.cause=C}catch{}throw R}if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new pf(S.statusCode);const x=vl({},S);if(El(x,"replay"))throw new aa(x);return S}class pf extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class aa extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function hf(e,t={count:0,interval:xE}){const{recordingData:n,onError:r}=e;if(n.length)try{return await Yw(e),!0}catch(s){if(s instanceof pf||s instanceof aa)throw s;if(kh("Replays",{_retryCount:t.count}),r&&r(s),t.count>=ME){const o=new Error(`${Vi} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{_r(async()=>{try{await hf(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const mf="__THROTTLED",Xw="__SKIPPED";function Kw(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?Xw:mf}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Jw{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:TE,sessionIdleExpire:IE},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Bw(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Kw((i,a)=>j0(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(AE,r),timeout:r,scrollTimeout:NE,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new n0(this,o)),$){const i=t._experiments;B.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{ce.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=et({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=et({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{m0(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){$&&B.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){$&&B.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",$&&B.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){$&&B.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){$&&B.log("Buffering is in progress, call `flush()` to save the replay");return}$&&B.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=wo({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){$&&B.log("Buffering is in progress, call `flush()` to save the replay");return}$&&B.infoTick("Starting replay in buffer mode");const t=wo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=ct({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:RE}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:Uw(this),...Hw(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{$&&B.log(`Stopping Replay${n?` triggered by ${n}`:""}`),cf(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,B0(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),$&&B.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),$&&B.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();$&&B.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ri(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ce.location.pathname}${ce.location.hash}${ce.location.search}`,n=`${ce.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===mf){const s=et({category:"replay.throttled"});this.addUpdate(()=>!oa(this,{type:Xv,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||we(),n=t&&Ee(t),s=(n&&q(n).data||{})[We];if(!(!n||!s||!["route","custom"].includes(s)))return q(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=P0({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=wo({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return rf(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ce.document.addEventListener("visibilitychange",this._handleVisibilityChange),ce.addEventListener("blur",this._handleWindowBlur),ce.addEventListener("focus",this._handleWindowFocus),ce.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Pw(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=x0(this)}_removeListeners(){try{ce.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ce.removeEventListener("blur",this._handleWindowBlur),ce.removeEventListener("focus",this._handleWindowFocus),ce.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||nf(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){$&&B.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:G.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=S0(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Gs(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){$&&B.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await Fw(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await hf({replayId:t,recordingData:i,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=L();if(s){const o=r instanceof aa?"ratelimit_backoff":"send_error";s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){$&&B.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){$&&B.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&$&&B.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&sa(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=jw(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=s&&r>s;if(r>o||i){const a=et({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function zn(e,t){return[...e,...t].join(",")}function Zw({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=zn(e,[".sentry-mask","[data-sentry-mask]"]),a=zn(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:zn(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:zn(r,[]),ignoreSelector:zn(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function Qw({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const Zc='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',eT=["content-length","content-type","accept"];let Qc=!1;const l1=(e=>new tT(e));class tT{constructor({flushMinDelay:t=kE,flushMaxDelay:n=CE,minReplayDuration:r=LE,maxReplayDuration:s=Ac,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:y=[],networkCaptureBodies:S=!0,networkRequestHeaders:x=[],networkResponseHeaders:C=[],mask:R=[],maskAttributes:b=["title","placeholder","aria-label"],unmask:T=[],block:M=[],unblock:v=[],ignore:I=[],maskFn:F,beforeAddRecordingEvent:E,beforeErrorSampling:A,onError:j}={}){this.name="Replay";const O=Zw({mask:R,unmask:T,block:M,unblock:v,ignore:I});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:F,maskInputFn:F,maskAttributeFn:(W,w,P)=>Qw({maskAttributes:b,maskAllText:u,privacyOptions:O,key:W,value:w,el:P}),...O,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:W=>{try{W.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,OE),maxReplayDuration:Math.min(s,Ac),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:_,networkDetailDenyUrls:y,networkCaptureBodies:S,networkRequestHeaders:eu(x),networkResponseHeaders:eu(C),beforeAddRecordingEvent:E,beforeErrorSampling:A,onError:j,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Zc}`:Zc),this._isInitialized&&Ho())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Qc}set _isInitialized(t){Qc=t}afterAllSetup(t){!Ho()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=nT(this._initialOptions,t);this._replay=new Jw({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function nT(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=Gt(n.replaysSessionSampleRate),o=Gt(n.replaysOnErrorSampleRate);return s==null&&o==null&&At(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function eu(e){return[...eT,...e.map(t=>t.toLowerCase())]}function d1(){const e=L();return e==null?void 0:e.getIntegrationByName("Replay")}var rT=Object.defineProperty,sT=(e,t,n)=>t in e?rT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,tu=(e,t,n)=>sT(e,typeof t!="symbol"?t+"":t,n);class oT{constructor(){tu(this,"idNodeMap",new Map),tu(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function iT(){return new oT}function aT(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ii(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ii(e.parentNode,t,n,r+1)}function nu(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(aT(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const cn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let ru={map:{},getId(){return console.error(cn),-1},getNode(){return console.error(cn),null},removeNodeFromMap(){console.error(cn)},has(){return console.error(cn),!1},reset(){console.error(cn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(ru=new Proxy(ru,{get(e,t,n){return t==="map"&&console.error(cn),Reflect.get(e,t,n)}}));function ca(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){_f(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>ca(e,t,o||{},!0)}function ua(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function cT(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Ys(e,t,n,r,s){if(!e)return!1;const o=cT(e);if(!o)return!1;const i=nu(t,n),a=ii(o,i);let c=-1;return a<0?!1:(r&&(c=ii(o,nu(null,r))),a>-1&&c<0?!0:a<c)}const su={};function gf(e){const t=su[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return su[e]=r.bind(window)}function Pt(...e){return gf("requestAnimationFrame")(...e)}function _f(...e){return gf("setTimeout")(...e)}var Nn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Nn||{});let es;function uT(e){es=e}const To=e=>es?(...n)=>{try{return e(...n)}catch(r){if(es&&es(r)===!0)return()=>{};throw r}}:e;var hn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var $r=0;$r<hn.length;$r++)lT[hn.charCodeAt($r)]=$r;var dT=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=hn[t[n]>>2],s+=hn[(t[n]&3)<<4|t[n+1]>>4],s+=hn[(t[n+1]&15)<<2|t[n+2]>>6],s+=hn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const ou=new Map;function fT(e,t){let n=ou.get(e);return n||(n=new Map,ou.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const yf=(e,t,n)=>{if(!e||!(bf(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=fT(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function ts(e,t,n){if(e instanceof Array)return e.map(r=>ts(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=dT(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[ts(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[ts(e.data,t,n),e.width,e.height]};if(bf(e,t)||typeof e=="object"){const r=e.constructor.name,s=yf(e,t,n);return{rr_type:r,index:s}}}}return e}const Sf=(e,t,n)=>e.map(r=>ts(r,t,n)),bf=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function pT(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=ua(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return Ys(this.canvas,n,r,s,!0)||_f(()=>{const l=Sf(d,t,this);e(this.canvas,{type:Nn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const c=ca(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Nn["2D"],property:a,args:[u],setter:!0})}});o.push(c)}return()=>{o.forEach(a=>a())}}function hT(e){return e==="experimental-webgl"?"webgl":e}function iu(e,t,n,r,s){const o=[];try{const i=ua(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!Ys(this,t,n,r,!0)){const d=hT(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function au(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=ua(e,d,function(f){return function(...p){const h=f.apply(this,p);if(yf(h,a,this),"tagName"in this.canvas&&!Ys(this.canvas,r,s,o,!0)){const m=Sf(p,a,this),_={type:t,property:d,args:m};n(this.canvas,_)}return h}});c.push(l)}catch{const l=ca(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function mT(e,t,n,r,s,o){const i=[];return i.push(...au(t.WebGLRenderingContext.prototype,Nn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...au(t.WebGL2RenderingContext.prototype,Nn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}const gT='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function _T(){const e=new Blob([gT]);return URL.createObjectURL(e)}class yT{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};const{enableManualSnapshot:n,sampling:r="all",win:s,recordCanvas:o,errorHandler:i}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&uT(i),(o&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(s),!n&&To(()=>{o&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){var t;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(n=>{try{n()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(t=this.worker)==null||t.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}To(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=iu(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n!=null&&n.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}Pt(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){const t=new Worker(_T());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:Nn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const n=r=>{this.takeSnapshot(r,!1),t=Pt(n)};t=Pt(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,s){const o=iu(t,n,r,s,!1),i=pT(this.processMutation.bind(this),t,n,r,s),a=mT(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}getCanvasElements(t,n,r){const s=[],o=i=>{i.querySelectorAll("canvas").forEach(a=>{Ys(a,t,n,r)||s.push(a)})};for(const i of this.windows){const a=i.deref();let c;try{c=a&&a.document}catch{}c&&o(c)}for(const i of this.shadowDoms){const a=i.deref();a&&o(a)}return s}takeSnapshot(t,n,r){const{sampling:s,blockClass:o,blockSelector:i,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(s==="all"?2:s||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(o,i,a)).forEach(h=>{var _;const m=this.mirror.getId(h);if(!(!this.mirror.hasNode(h)||!h.width||!h.height||this.snapshotInProgressMap.get(m))){if(this.snapshotInProgressMap.set(m,!0),!n&&["webgl","webgl2"].includes(h.__context)){const y=h.getContext(h.__context);((_=y==null?void 0:y.getContextAttributes())==null?void 0:_.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(h).then(y=>{var S;(S=this.worker)==null||S.postMessage({id:m,bitmap:y,width:h.width,height:h.height,dataURLOptions:c,maxCanvasSize:u},[y])}).catch(y=>{To(()=>{throw this.snapshotInProgressMap.delete(m),y})()})}}),!0)}startPendingCanvasMutationFlusher(){Pt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Pt(t)};Pt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Pt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}var Eu;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Eu=e.contentWindow)==null?void 0:Eu.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}iT();var cu;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(cu||(cu={}));const uu={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},ST="ReplayCanvas",Br=1280,bT=((e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Br):Br,n?Math.min(n,Br):Br]};let s;const o=new Promise(i=>s=i);return{name:ST,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new yT({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...uu[i]||uu.medium}},async snapshot(i,a){(await o).snapshot(i,a)}}}),f1=bT;function Qe(e=0){return((ke()||performance.timeOrigin)+e)/1e3}function ET(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=fd(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return ke()?[...t,["http.request.redirect_start",Qe(e.redirectStart)],["http.request.fetch_start",Qe(e.fetchStart)],["http.request.domain_lookup_start",Qe(e.domainLookupStart)],["http.request.domain_lookup_end",Qe(e.domainLookupEnd)],["http.request.connect_start",Qe(e.connectStart)],["http.request.secure_connection_start",Qe(e.secureConnectionStart)],["http.request.connection_end",Qe(e.connectEnd)],["http.request.request_start",Qe(e.requestStart)],["http.request.response_start",Qe(e.responseStart)],["http.request.response_end",Qe(e.responseEnd)]]:t}const lu=new WeakMap,Io=new Map,Ef={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function vT(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:c}={...Ef,...t},u=typeof o=="function"?o:f=>!0,d=f=>TT(f,a),l={};n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(p=>{if(p.op==="http.client"){const h=Io.get(p.span_id);h&&(p.timestamp=h/1e3,Io.delete(p.span_id))}}),f)),s&&Ug(f=>{if(f.response){const p=lu.get(f.response);p&&f.endTimestamp&&Io.set(p,f.endTimestamp)}}),xi(f=>{const p=Rg(f,u,d,l);if(f.response&&f.fetchData.__span&&lu.set(f.response,f.fetchData.__span),p){const h=vf(f.fetchData.url),m=h?jt(h).host:void 0;p.setAttributes({"http.url":h,"server.address":m}),i&&du(p),c==null||c(p,{headers:f.headers})}})),r&&ji(f=>{var h;const p=IT(f,u,d,l);if(p){i&&du(p);let m;try{m=new Headers((h=f.xhr.__sentry_xhr_v3__)==null?void 0:h.request_headers)}catch{}c==null||c(p,{headers:m})}})}function wT(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function du(e){const{url:t}=q(e).data;if(!t||typeof t!="string")return;const n=Yt("resource",({entries:r})=>{r.forEach(s=>{wT(s)&&s.name.endsWith(t)&&(ET(s).forEach(i=>e.setAttribute(...i)),setTimeout(n))})})}function TT(e,t){const n=Xt();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?Ke(r.toString(),t)||o&&Ke(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?Ke(e,t):r}}function IT(e,t,n,r){const s=e.xhr,o=s==null?void 0:s[at];if(!s||s.__sentry_own_request__||!o)return;const{url:i,method:a}=o,c=xt()&&t(i);if(e.endTimestamp&&c){const m=s.__sentry_xhr_span_id__;if(!m)return;const _=r[m];_&&o.status_code!==void 0&&(is(_,o.status_code),_.end(),delete r[m]);return}const u=vf(i),d=jt(u||i),l=Ol(i),f=!!we(),p=c&&f?Pn({name:`${a} ${l}`,attributes:{url:i,type:"xhr","http.method":a,"http.url":u,"server.address":d==null?void 0:d.host,[de]:"auto.http.browser",[qe]:"http.client",...(d==null?void 0:d.search)&&{"http.query":d==null?void 0:d.search},...(d==null?void 0:d.hash)&&{"http.fragment":d==null?void 0:d.hash}}}):new pt;s.__sentry_xhr_span_id__=p.spanContext().spanId,r[s.__sentry_xhr_span_id__]=p,n(i)&&kT(s,xt()&&f?p:void 0);const h=L();return h&&h.emit("beforeOutgoingRequestSpan",p,e),p}function kT(e,t){const{"sentry-trace":n,baggage:r}=Il({span:t});n&&CT(e,n,r)}function CT(e,t,n){var s;const r=(s=e.__sentry_xhr_v3__)==null?void 0:s.request_headers;if(!(r!=null&&r["sentry-trace"]))try{if(e.setRequestHeader("sentry-trace",t),n){const o=r==null?void 0:r.baggage;(!o||!RT(o))&&e.setRequestHeader("baggage",n)}}catch{}}function RT(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function vf(e){try{return new URL(e,D.location.origin).href}catch{return}}function xT(){D.document?D.document.addEventListener("visibilitychange",()=>{const e=we();if(!e)return;const t=Ee(e);if(D.document.hidden&&t){const n="cancelled",{op:r,status:s}=q(t);Y&&g.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:pe,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Y&&g.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const MT=3600,wf="sentry_previous_trace",AT="sentry.previous_trace";function NT(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?DT():void 0;e.on("spanStart",i=>{if(Ee(i)!==i)return;const a=X().getPropagationContext();s=LT(s,i,a),r&&OT(s)});let o=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const a=X(),c=a.getPropagationContext();if(o&&c.parentSpanId){o=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(ai(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=ai(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[$u]:s.sampleRate}})}function LT(e,t,n){const r=q(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[mi])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=MT&&(Y&&g.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[pp]:"previous_trace"}}),t.setAttribute(AT,`${i.traceId}-${i.spanId}-${ai(i)?1:0}`)),o)}function OT(e){try{D.sessionStorage.setItem(wf,JSON.stringify(e))}catch(t){Y&&g.warn("Could not store previous trace in sessionStorage",t)}}function DT(){var e;try{const t=(e=D.sessionStorage)==null?void 0:e.getItem(wf);return JSON.parse(t)}catch{return}}function ai(e){return e.traceFlags===1}const PT="BrowserTracing",FT={...zr,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...Ef},p1=((e={})=>{const t={name:void 0,source:void 0},n=D.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:h,traceFetch:m,traceXHR:_,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:S,enableHTTPTimings:x,ignoreResourceSpans:C,ignorePerformanceApiSpans:R,instrumentPageLoad:b,instrumentNavigation:T,detectRedirects:M,linkPreviousTrace:v,consistentTraceSampling:I,onRequestSpanStart:F}={...FT,...e};let E,A;function j(O,W,w=!0){const P=W.op==="pageload",N=d?d(W):W,K=N.attributes||{};if(W.name!==N.name&&(K[We]="custom",N.attributes=K),!w){const Se=Kt();Pn({...N,startTime:Se}).end(Se);return}t.name=N.name,t.source=K[We];const Q=il(N,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:P,beforeSpanEnd:Se=>{E==null||E(),bS(Se,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:C,ignorePerformanceApiSpans:R}),pu(O,void 0);const ge=X(),Oe=ge.getPropagationContext();ge.setPropagationContext({...Oe,traceId:Q.spanContext().traceId,sampled:Jt(Q),dsc:Je(Se)})}});pu(O,Q);function ye(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",Q)}P&&n&&(n.addEventListener("readystatechange",()=>{ye()}),ye())}return{name:PT,setup(O){if(Rp(),E=fS({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:O}),r&&WS(),s&&MS(),i&&U.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?hS():o&&pS(),a&&mS(),M&&n){const w=()=>{A=me()};addEventListener("click",w,{capture:!0}),addEventListener("keydown",w,{capture:!0,passive:!0})}function W(){const w=nr(O);w&&!q(w).timestamp&&(Y&&g.log(`[Tracing] Finishing current active span with op: ${q(w).op}`),w.setAttribute(os,"cancelled"),w.end())}O.on("startNavigationSpan",(w,P)=>{if(L()!==O)return;if(P!=null&&P.isRedirect){Y&&g.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),j(O,{op:"navigation.redirect",...w},!1);return}W(),ve().setPropagationContext({traceId:ft(),sampleRand:Math.random()});const N=X();N.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),N.setSDKProcessingMetadata({normalizedRequest:void 0}),j(O,{op:"navigation",...w})}),O.on("startPageLoadSpan",(w,P={})=>{if(L()!==O)return;W();const N=P.sentryTrace||fu("sentry-trace"),K=P.baggage||fu("baggage"),Q=ju(N,K),ye=X();ye.setPropagationContext(Q),ye.setSDKProcessingMetadata({normalizedRequest:Di()}),j(O,{op:"pageload",...w})})},afterAllSetup(O){let W=Xt();if(v!=="off"&&NT(O,{linkPreviousTrace:v,consistentTraceSampling:I}),D.location){if(b){const w=ke();$T(O,{name:D.location.pathname,startTime:w?w/1e3:void 0,attributes:{[We]:"url",[de]:"auto.pageload.browser"}})}T&&Us(({to:w,from:P})=>{if(P===void 0&&(W==null?void 0:W.indexOf(w))!==-1){W=void 0;return}W=void 0;const N=Ll(w),K=nr(O),Q=K&&M&&UT(K,A);BT(O,{name:(N==null?void 0:N.pathname)||D.location.pathname,attributes:{[We]:"url",[de]:"auto.navigation.browser"}},{url:w,isRedirect:Q})})}h&&xT(),a&&HT(O,l,f,p,t),r&&qS(),vT(O,{traceFetch:m,traceXHR:_,trackFetchStreamPerformance:y,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:S,enableHTTPTimings:x,onRequestSpanStart:F})}}});function $T(e,t,n){e.emit("startPageLoadSpan",t,n),X().setTransactionName(t.name);const r=nr(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function BT(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const o=X();return o.setTransactionName(t.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...Di(),url:r}}),nr(e)}function fu(e){const t=D.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function HT(e,t,n,r,s){const o=D.document;let i;const a=()=>{const c="ui.action.click",u=nr(e);if(u){const d=q(u).op;if(["navigation","pageload"].includes(d)){Y&&g.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(os,"interactionInterrupted"),i.end(),i=void 0),!s.name){Y&&g.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=il({name:s.name,op:c,attributes:{[We]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{capture:!0})}const Tf="_sentry_idleSpan";function nr(e){return e[Tf]}function pu(e,t){Le(e,Tf,t)}const hu=.3;function UT(e,t){const n=q(e),r=Kt(),s=n.start_timestamp;return!(r-s>hu||t&&r-t<=hu)}function Ln(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function WT(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Ln(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function la(e){return Ln(e.getAllKeys())}function zT(e,t,n){return e(r=>la(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Ln(r.transaction)}))}function jT(e,t,n){return e(r=>la(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),Ln(r.transaction)}))}function qT(e){return e(t=>la(t).then(n=>{const r=n[0];if(r!=null)return Ln(t.get(r)).then(s=>(t.delete(r),Ln(t.transaction).then(()=>s)))}))}function GT(e){let t;function n(){return t==null&&(t=WT(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await us(r);await zT(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await us(r);await jT(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await qT(n());if(r)return Wp(r)}catch{}}}}function VT(e){return t=>{const n=e({...t,createStore:GT});return D.addEventListener("online",async r=>{await n.flush()}),n}}function h1(e=_d){return VT(om(e))}const mu=1e6,ns=String(0),YT="main",Ue=D.navigator;let If="",kf="",Cf="",ci=(Ue==null?void 0:Ue.userAgent)||"",Rf="";var vu;const XT=(Ue==null?void 0:Ue.language)||((vu=Ue==null?void 0:Ue.languages)==null?void 0:vu[0])||"";function KT(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const gu=Ue==null?void 0:Ue.userAgentData;KT(gu)&&gu.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(If=e.platform||"",Cf=e.architecture||"",Rf=e.model||"",kf=e.platformVersion||"",(t=e.fullVersionList)!=null&&t.length){const n=e.fullVersionList[e.fullVersionList.length-1];ci=`${n.brand} ${n.version}`}}).catch(e=>{});function JT(e){return!("thread_metadata"in e)}function ZT(e){return JT(e)?tI(e):e}function QT(e){var n,r;const t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&Y&&g.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function eI(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=QT(r),o=ZT(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:me()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:me()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Ms,runtime:{name:"javascript",version:D.navigator.userAgent},os:{name:If,version:kf,build_number:ci},device:{locale:XT,model:Rf,manufacturer:ci,architecture:Cf,is_emulator:!1},debug_meta:{images:sI(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Me(),trace_id:s,active_thread_id:ns,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function xf(e){return q(e).op==="pageload"}function tI(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[ns]:{name:YT}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=ke(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:i||0,c=a-(i||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-o)*mu).toFixed(0),stack_id:t,thread_id:ns};return}let l=e.stacks[u.stackId];const f=[];for(;l;){f.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const p={elapsed_since_start_ns:((u.timestamp+c-o)*mu).toFixed(0),stack_id:n,thread_id:ns};r.stacks[n]=f,r.samples[d]=p,n++}),r}function nI(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function rI(e){const t=[];return Vt(e,(n,r)=>{var s,o;if(r==="transaction")for(let i=1;i<n.length;i++){const a=n[i];(o=(s=a==null?void 0:a.contexts)==null?void 0:s.profile)!=null&&o.profile_id&&t.push(n[i])}}),t}function sI(e){const t=L(),n=t==null?void 0:t.getOptions(),r=n==null?void 0:n.stackParser;return r?mh(r,e):[]}function oI(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(Y&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(Y&&g.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function iI(e){return e.samples.length<2?(Y&&g.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(Y&&g.log("[Profiling] Discarding profile because it contains no frames"),!1)}let Mf=!1;const Af=3e4;function aI(e){return typeof e=="function"}function cI(){const e=D.Profiler;if(!aI(e)){Y&&g.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Af/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{Y&&(g.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),g.log("[Profiling] Disabling profiling for current user session.")),Mf=!0}}function _u(e){if(Mf)return Y&&g.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return Y&&g.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=L(),n=t==null?void 0:t.getOptions();if(!n)return Y&&g.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return oI(r)?r?(r===!0?!0:Math.random()<r)?!0:(Y&&g.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(Y&&g.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(Y&&g.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function uI(e,t,n,r){return iI(n)?eI(e,t,n,r):null}const Ut=new Map;function lI(){return Ut.size}function dI(e){const t=Ut.get(e);return t&&Ut.delete(e),t}function fI(e,t){if(Ut.set(e,t),Ut.size>30){const n=Ut.keys().next().value;Ut.delete(n)}}function yu(e){let t;xf(e)&&(t=me()*1e3);const n=cI();if(!n)return;Y&&g.log(`[Profiling] started profiling span: ${q(e).description}`);const r=Me();X().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(D.clearTimeout(o),o=void 0),Y&&g.log(`[Profiling] stopped profiling of span: ${q(e).description}`),!c){Y&&g.log(`[Profiling] profiler returned null profile for: ${q(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}fI(r,c)}).catch(c=>{Y&&g.log("[Profiling] error while stopping profiler:",c)})}let o=D.setTimeout(()=>{Y&&g.log("[Profiling] max profile duration elapsed, stopping profiling for:",q(e).description),s()},Af);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const pI="BrowserProfiling",hI=(()=>({name:pI,setup(e){const t=we(),n=t&&Ee(t);n&&xf(n)&&_u(n)&&yu(n),e.on("spanStart",r=>{r===Ee(r)&&_u(r)&&yu(r)}),e.on("beforeEnvelope",r=>{var i,a;if(!lI())return;const s=rI(r);if(!s.length)return;const o=[];for(const c of s){const u=c==null?void 0:c.contexts,d=(i=u==null?void 0:u.profile)==null?void 0:i.profile_id,l=(a=u==null?void 0:u.profile)==null?void 0:a.start_timestamp;if(typeof d!="string"){Y&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){Y&&g.log("[Profiling] cannot find profile for a span without a profile context");continue}u!=null&&u.profile&&delete u.profile;const f=dI(d);if(!f){Y&&g.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}const p=uI(d,l,f,c);p&&o.push(p)}nI(r,o)})}})),m1=hI,mI="SpotlightBrowser",gI=((e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:mI,setup:()=>{Y&&g.log("Using Sidecar URL",t)},processEvent:n=>yI(n)?null:n,afterAllSetup:n=>{_I(n,t)}}});function _I(e,t){const n=zi("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){g.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:us(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,g.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const g1=gI;function yI(e){var t;return!!(e.type==="transaction"&&e.spans&&((t=e.contexts)!=null&&t.trace)&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:n})=>n==null?void 0:n.includes("#sentry-spotlight")))}const _1=()=>({name:"LaunchDarkly",processEvent(e,t,n){return dr(e)}});function y1(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{En(e,t.value),vn(e,t.value)}}}const S1=()=>({name:"OpenFeature",processEvent(e,t,n){return dr(e)}});class b1{after(t,n){En(n.flagKey,n.value),vn(n.flagKey,n.value)}error(t,n,r){En(t.flagKey,t.defaultValue),vn(t.flagKey,t.defaultValue)}}const E1=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;xe(t,"isEnabled",SI)},processEvent(t,n,r){return dr(t)}});function SI(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(En(n,r),vn(n,r)):Y&&g.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const v1=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{En(n.gate.name,n.gate.value),vn(n.gate.name,n.gate.value)})},processEvent(t,n,r){return dr(t)}});async function w1(){const e=L();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"})}catch{return"sentry-unreachable"}}const bI="WebWorker",T1=({worker:e})=>({name:bI,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Su(t))},addWorker:t=>Su(t)});function Su(e){e.addEventListener("message",t=>{EI(t.data)&&(t.stopImmediatePropagation(),Y&&g.log("Sentry debugId web worker message received",t.data),D._sentryDebugIds={...t.data._sentryDebugIds,...D._sentryDebugIds})})}function I1({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function EI(e){return lt(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(lt(e._sentryDebugIds)||e._sentryDebugIds===void 0)}export{xy as BrowserClient,b1 as OpenFeatureIntegrationHook,It as SDK_VERSION,qe as SEMANTIC_ATTRIBUTE_SENTRY_OP,de as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,mi as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,We as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,nt as Scope,D as WINDOW,mt as addBreadcrumb,xh as addEventProcessor,$a as addIntegration,_b as breadcrumbsIntegration,Rb as browserApiErrorsIntegration,m1 as browserProfilingIntegration,Ob as browserSessionIntegration,p1 as browserTracingIntegration,y1 as buildLaunchDarklyFlagUsedHandler,BI as captureConsoleIntegration,Ls as captureEvent,bn as captureException,Og as captureFeedback,Oo as captureMessage,Da as captureSession,tb as chromeStackLineParser,DI as close,GI as consoleLoggingIntegration,a1 as contextLinesIntegration,kI as continueTrace,rm as createTransport,e1 as createUserFeedbackEnvelope,Um as dedupeIntegration,Ef as defaultRequestInstrumentationOptions,fb as defaultStackLineParsers,pb as defaultStackParser,w1 as diagnoseSdkConnectivity,ul as endSession,wm as eventFiltersIntegration,wy as eventFromException,Ty as eventFromMessage,Pi as exceptionFromError,HI as extraErrorDataIntegration,qI as featureFlagsIntegration,YI as feedbackAsyncIntegration,XI as feedbackIntegration,XI as feedbackSyncIntegration,OI as flush,n1 as forceLoad,bm as functionToStringIntegration,ob as geckoStackLineParser,we as getActiveSpan,L as getClient,X as getCurrentScope,Jb as getDefaultIntegrations,VI as getFeedback,hi as getGlobalScope,ve as getIsolationScope,d1 as getReplay,Ee as getRootSpan,Ur as getSpanDescendants,mp as getSpanStatusFromHttpCode,Il as getTraceData,Fb as globalHandlersIntegration,c1 as graphqlClientIntegration,i1 as httpClientIntegration,zb as httpContextIntegration,Tm as inboundFiltersIntegration,t1 as init,vT as instrumentOutgoingRequests,dg as instrumentSupabaseClient,Rh as isEnabled,PI as isInitialized,Ch as lastEventId,_1 as launchDarklyIntegration,uy as lazyLoadIntegration,Yb as linkedErrorsIntegration,KI as logger,h1 as makeBrowserOfflineTransport,_d as makeFetchTransport,FI as makeMultiplexedTransport,$I as moduleMetadataIntegration,r1 as onLoad,S1 as openFeatureIntegration,ZI as opera10StackLineParser,QI as opera11StackLineParser,lm as parameterize,Rp as registerSpanErrorInstrumentation,I1 as registerWebWorker,f1 as replayCanvasIntegration,l1 as replayIntegration,o1 as reportingObserverIntegration,UI as rewriteFramesIntegration,p_ as sendFeedback,kh as setContext,Zh as setCurrentClient,MI as setExtra,xI as setExtras,is as setHttpStatus,Zp as setMeasurement,NI as setTag,AI as setTags,LI as setUser,s1 as showReportDialog,TI as spanToBaggageHeader,q as spanToJSON,Tp as spanToTraceHeader,g1 as spotlightBrowserIntegration,BT as startBrowserTracingNavigationSpan,$T as startBrowserTracingPageLoadSpan,Pn as startInactiveSpan,RI as startNewTrace,Oa as startSession,vi as startSpan,II as startSpanManual,v1 as statsigIntegration,WI as supabaseIntegration,CI as suppressTracing,jI as thirdPartyErrorFilterIntegration,E1 as unleashIntegration,wI as updateSpanName,T1 as webWorkerIntegration,JI as winjsStackLineParser,Ns as withActiveSpan,vI as withIsolationScope,Ze as withScope,zI as zodErrorsIntegration};
