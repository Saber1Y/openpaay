"use strict";var e=require("../../core/errors/openfortError.js"),r=require("./JsonRpcError.js");exports.getCallStatus=async({params:s,authentication:t,backendClient:a})=>{const o=await(async(r,s,t)=>e.withOpenfortError(async()=>(await s.transactionIntentsApi.getTransactionIntent({id:r},{headers:{authorization:`Bearer ${s.config.backend.accessToken}`,"x-player-token":t.token,"x-auth-provider":t.thirdPartyProvider,"x-token-type":t.thirdPartyTokenType}})).data,{default:e.OpenfortErrorType.AUTHENTICATION_ERROR}))(s[0],a,t).catch(e=>{throw new r.JsonRpcError(r.RpcErrorCode.TRANSACTION_REJECTED,e.message)});return{status:o.response?"CONFIRMED":"PENDING",receipts:o.response?[{status:0===o.response.status?"reverted":"success",logs:o.response.logs?.map(e=>({address:e.address,data:e.data,topics:e.topics}))||[],blockHash:o.response.transactionHash||"",blockNumber:BigInt(o.response.blockNumber||0),gasUsed:BigInt(o.response.gasUsed||0),transactionHash:o.response.transactionHash||""}]:void 0}};
