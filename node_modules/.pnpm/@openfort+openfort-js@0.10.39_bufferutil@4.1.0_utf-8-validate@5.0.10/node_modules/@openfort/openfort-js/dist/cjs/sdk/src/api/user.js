"use strict";var r=require("../core/configuration/authentication.js"),e=require("../core/errors/openfortError.js");exports.UserApi=class{storage;authManager;validateAndRefreshToken;constructor(r,e,t){this.storage=r,this.authManager=e,this.validateAndRefreshToken=t}async get(){await this.validateAndRefreshToken();const t=await r.Authentication.fromStorage(this.storage);if(!t)throw new e.OpenfortError("No access token found",e.OpenfortErrorType.NOT_LOGGED_IN_ERROR);return await this.authManager.getUser(t)}};
