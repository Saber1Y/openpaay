import{withOpenfortError as e,OpenfortErrorType as t}from"../../core/errors/openfortError.js";import{JsonRpcError as r,RpcErrorCode as a}from"./JsonRpcError.js";const s=async({params:s,account:o,authentication:n,backendClient:c})=>{const i=await(async(r,a,s,o)=>e(async()=>(await r.rpcApi.handleRpcRequest({jsonRpcRequest:{method:"wallet_getAssets",params:{account:a.address,chainFilter:o?.chainFilter,assetFilter:o?.assetFilter,assetTypeFilter:o?.assetTypeFilter},id:1,jsonrpc:"2.0"}},{headers:{authorization:`Bearer ${r.config.backend.accessToken}`,"x-player-token":s.token,"x-auth-provider":s.thirdPartyProvider,"x-token-type":s.thirdPartyTokenType}})).data,{default:t.AUTHENTICATION_ERROR}))(c,o,n,s).catch(e=>{throw new r(a.INTERNAL_ERROR,e.message)});return i.result};export{s as getAssets};
