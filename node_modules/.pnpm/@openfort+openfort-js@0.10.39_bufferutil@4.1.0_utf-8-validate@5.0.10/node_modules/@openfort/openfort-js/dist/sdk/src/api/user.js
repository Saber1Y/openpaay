import{Authentication as t}from"../core/configuration/authentication.js";import{OpenfortError as e,OpenfortErrorType as r}from"../core/errors/openfortError.js";class a{storage;authManager;validateAndRefreshToken;constructor(t,e,r){this.storage=t,this.authManager=e,this.validateAndRefreshToken=r}async get(){await this.validateAndRefreshToken();const a=await t.fromStorage(this.storage);if(!a)throw new e("No access token found",r.NOT_LOGGED_IN_ERROR);return await this.authManager.getUser(a)}}export{a as UserApi};
